webpackJsonp([0],{110:function(e,r,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function c(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var d=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),o=t(1),i=a(o),s=t(15),u=t(19),f=t(0),v=a(f),m=t(8),h=t(39),p=a(h),O=t(4),E=a(O),b=t(25),y=t(322),N=a(y),w=function(e){return{currentUser:e.currentUser,currentStore:e.currentStore,archivedOrders:e.archivedOrders,userRoles:e.userRoles}},R=function(e){return(0,u.bindActionCreators)({getArchivedOrders:b.getArchivedOrders,setLoader:b.setLoader,removeLoader:b.removeLoader},e)},_=function(e){function r(e){n(this,r);var t=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.renderArchivedOrderRows=function(){var e=t.props.archivedOrders;return(0,p.default)(e)?t.state.loadingOrders?i.default.createElement("div",{className:"table-row"},i.default.createElement("div",{className:"loading-orders"},"Loading Orders...")):i.default.createElement("div",{className:"table-row"},i.default.createElement("div",{className:"no-orders"},"No orders found!")):i.default.createElement("div",{className:"archive-container"},e.map(function(e){return t.renderArchivedOrderRow(e)}))},t.renderArchivedOrderHeaders=function(){var e=t.props.userRoles,r=void 0,a=void 0;return e.admin?(r="Tailor",a="Source"):(r="Customer",a="Quantity"),i.default.createElement("div",null,i.default.createElement("div",{className:"archive-headers-container"},i.default.createElement("div",{className:"archive-headers-row"},i.default.createElement("h3",{className:"archive-header-cell"},"Order"),i.default.createElement("h3",{className:"archive-header-cell"},"FulFilled Date"),i.default.createElement("h3",{className:"archive-header-cell"},r),i.default.createElement("h3",{className:"archive-header-cell"},a))),i.default.createElement("div",{className:"archive-header-break-row"}))},t.state={loadingOrders:!0},t}return c(r,e),d(r,[{key:"componentDidMount",value:function(){var e=this.props,r=e.setLoader,t=e.removeLoader,a=e.getArchivedOrders;r(),a().then(function(){return t()})}},{key:"renderArchivedOrderRow",value:function(e){var r=this.props.userRoles,t=e.id,a=e.tailor,n=e.retailer,l=e.customer,c=e.alterations_count,d=(0,v.default)(e.fulfilled_date).format("MM-DD-YYYY"),o=void 0,s=void 0;if(r.admin){if(!a||!n)return"";o=a.name,s=n.name}else{o=l.first_name+" "+l.last_name,s=c}var u="/orders/"+t;return i.default.createElement("div",{className:"archive-row",key:t},i.default.createElement(m.Link,{to:u,className:"archive-link"},i.default.createElement("div",{className:"archive-order-cell"},"#",t),i.default.createElement("div",{className:"archive-order-cell",style:{color:"green"}},d),i.default.createElement("div",{className:"archive-order-cell"},o),i.default.createElement("div",{className:"archive-order-cell"},s)),i.default.createElement("div",{className:"archive-break-row"}))}},{key:"render",value:function(){if(!this.props.currentStore)return i.default.createElement(m.Redirect,{to:"/"});var e="Archived Orders / "+this.props.currentStore.name,r=this.renderArchivedOrderHeaders,t=this.renderArchivedOrderRows;return i.default.createElement("div",null,i.default.createElement(N.default,{text:e}),i.default.createElement("div",{className:"archive"},r(),t()))}}]),r}(o.Component);_.propTypes={currentUser:E.default.object.isRequired,currentStore:E.default.object.isRequired,archivedOrders:E.default.array.isRequired,userRoles:E.default.object.isRequired,getArchivedOrders:E.default.func.isRequired,setLoader:E.default.func.isRequired,removeLoader:E.default.func.isRequired},r.default=(0,s.connect)(w,R)(_)}});