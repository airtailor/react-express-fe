webpackJsonp([0],{112:function(e,r,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function c(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),i=t(2),d=a(i),s=t(17),u=t(25),f=t(0),v=a(f),m=t(11),h=t(52),p=a(h),b=t(4),E=a(b),O=t(30),N=t(693),y=a(N),R=function(e){return{currentUser:e.currentUser,currentStore:e.currentStore,archivedOrders:e.archivedOrders,userRoles:e.userRoles}},w=function(e){return(0,u.bindActionCreators)({getArchivedOrders:O.getArchivedOrders,setLoader:O.setLoader,removeLoader:O.removeLoader},e)},_=function(e){function r(e){n(this,r);var t=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.renderArchivedOrderRows=function(){var e=t.props.archivedOrders;return(0,p.default)(e)?t.state.loadingOrders?d.default.createElement("div",{className:"table-row"},d.default.createElement("div",{className:"loading-orders"},"Loading Orders...")):d.default.createElement("div",{className:"table-row"},d.default.createElement("div",{className:"no-orders"},"No orders found!")):d.default.createElement("div",{className:"archive-container"},e.map(function(e){return t.renderArchivedOrderRow(e)}))},t.renderArchivedOrderHeaders=function(){var e=t.props.userRoles,r=void 0,a=void 0;return e.admin?(r="Tailor",a="Source"):(r="Customer",a="Quantity"),d.default.createElement("div",null,d.default.createElement("div",{className:"archive-headers-container"},d.default.createElement("div",{className:"archive-headers-row"},d.default.createElement("h3",{className:"archive-header-cell"},"Order"),d.default.createElement("h3",{className:"archive-header-cell"},"FulFilled Date"),d.default.createElement("h3",{className:"archive-header-cell"},r),d.default.createElement("h3",{className:"archive-header-cell"},a))),d.default.createElement("div",{className:"archive-header-break-row"}))},t.state={loadingOrders:!0},t}return c(r,e),o(r,[{key:"componentDidMount",value:function(){var e=this.props,r=e.setLoader,t=e.removeLoader,a=e.getArchivedOrders;r(),a().then(function(){return t()})}},{key:"renderArchivedOrderRow",value:function(e){var r=this.props.userRoles,t=e.id,a=e.tailor,n=e.retailer,l=e.customer,c=e.alterations_count,o=(0,v.default)(e.fulfilled_date).format("MM-DD-YYYY"),i=void 0,s=void 0;if(r.admin){if(!a||!n)return"";i=a.name,s=n.name}else{i=l.first_name+" "+l.last_name,s=c}var u="/orders/"+t;return d.default.createElement("div",{className:"archive-row",key:t},d.default.createElement(m.Link,{to:u,className:"archive-link"},d.default.createElement("div",{className:"archive-order-cell"},"#",t),d.default.createElement("div",{className:"archive-order-cell",style:{color:"green"}},o),d.default.createElement("div",{className:"archive-order-cell"},i),d.default.createElement("div",{className:"archive-order-cell"},s)),d.default.createElement("div",{className:"archive-break-row"}))}},{key:"render",value:function(){if(!this.props.currentStore)return d.default.createElement(m.Redirect,{to:"/"});var e="Archived Orders / "+this.props.currentStore.name,r=this.renderArchivedOrderHeaders,t=this.renderArchivedOrderRows;return d.default.createElement("div",null,d.default.createElement(y.default,{text:e}),d.default.createElement("div",{className:"archive"},r(),t()))}}]),r}(i.Component);_.propTypes={currentUser:E.default.object.isRequired,currentStore:E.default.object.isRequired,archivedOrders:E.default.array.isRequired,userRoles:E.default.object.isRequired,getArchivedOrders:E.default.func.isRequired,setLoader:E.default.func.isRequired,removeLoader:E.default.func.isRequired},r.default=(0,s.connect)(R,w)(_)},693:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a),l=t(17),c=t(25),o=t(11),i=t(30),d=function(e){var r=e.rotate,t=(e.userRoles,e.includeLink,e.link),a=void 0;if(r&&0!==r.length?a=function(){return e.resetCart()}:(t="/orders/new",a=function(){return console.log("")}),e.userRoles.admin||e.userRoles.retailer)return n.default.createElement(o.Link,{className:"cart-ribbon",to:t},n.default.createElement("h1",{className:"cart-ribbon-sign "+r,onClick:a},"+"),n.default.createElement("div",{className:"cart-ribbon-triangle"}))},s=function(e){return n.default.createElement("div",{className:"section-header"},n.default.createElement("h2",null,e.text),d(e))},u=function(e){return{currentUser:e.currentUser,userRoles:e.userRoles}},f=function(e){return(0,c.bindActionCreators)({resetCart:i.resetCart},e)};r.default=(0,l.connect)(u,f)(s)}});