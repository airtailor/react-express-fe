{"version":3,"sources":["webpack:///./client/components/Home.js","webpack:///./client/components/OrderCard.js","webpack:///./client/components/OrderCardIcon.js"],"names":["mapStateToProps","currentUser","store","userRoles","currentStore","mapDispatchToProps","getCurrentStore","dispatch","Home","state","active_orders_count","late_orders_count","props","storeId","user","store_id","then","setState","res","data","body","catch","console","log","err","roles","tailor","tailorHome","admin","adminHome","retailer","retailerHome","id","name","storeEditPath","storeOrShop","renderCards","renderStore","propTypes","object","isRequired","func","OrderCard","icon","count","type","call","styleClass","className","countKind","link","OrderCardIcon","url","alt"],"mappings":"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","file":"2.8e17dbfc1bac700a027c.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { getCurrentStore, getOrderCount } from '../actions';\n\nimport SectionHeader from './SectionHeader';\nimport OrderCard from './OrderCard';\nimport OrderCardIcon from './OrderCardIcon';\nimport { ordersImage, exclamationImage } from '../images';\n\nconst mapStateToProps = store => {\n  return {\n    currentUser: store.currentUser,\n    userRoles: store.userRoles,\n    currentStore: store.currentStore,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ getCurrentStore }, dispatch);\n};\n\nclass Home extends Component {\n  constructor() {\n    super();\n    this.state = {\n      active_orders_count: 0,\n      late_orders_count: 0,\n    };\n  }\n\n  static propTypes = {\n    currentUser: PropTypes.object.isRequired, // mapStateToProps\n    userRoles: PropTypes.object.isRequired, // mapStateToProps\n    currentStore: PropTypes.object.isRequired, // mapStateToProps\n    getCurrentStore: PropTypes.func.isRequired, // mapDispatchToProps\n  };\n\n  componentDidMount() {\n    const {\n      currentUser: { user: { store_id: storeId } },\n      getCurrentStore,\n    } = this.props;\n\n    getOrderCount(storeId).then(res => {\n      this.setState(res.data.body);\n    });\n\n    getCurrentStore(storeId).catch(err => {\n      console.log(err);\n    });\n  }\n\n  retailerHome(currentStore) {\n    const { active_orders_count, late_orders_count } = this.state;\n\n    return (\n      <div className=\"store-boxes\">\n        <OrderCard\n          icon={<OrderCardIcon url={ordersImage} alt=\"orders\" />}\n          count={active_orders_count}\n          type=\"Current\"\n          call=\"VIEW >\"\n          styleClass=\"current-orders\"\n        />\n      </div>\n    );\n  }\n\n  adminHome(currentStore) {\n    const { active_orders_count, late_orders_count } = this.state;\n    return (\n      <div className=\"store-boxes\">\n        <OrderCard\n          icon={<OrderCardIcon url={exclamationImage} alt=\"orders\" />}\n          count={late_orders_count}\n          type=\"Late\"\n          call=\"FULFILL >\"\n          styleClass=\"late-orders\"\n        />\n\n        <OrderCard\n          icon={<OrderCardIcon url={ordersImage} alt=\"orders\" />}\n          count={active_orders_count}\n          type=\"Current\"\n          call=\"VIEW >\"\n          styleClass=\"current-orders\"\n        />\n      </div>\n    );\n  }\n\n  tailorHome(currentStore) {\n    const { active_orders_count, late_orders_count } = this.state;\n    return (\n      <div className=\"store-boxes\">\n        <OrderCard\n          icon={<OrderCardIcon url={exclamationImage} alt=\"orders\" />}\n          count={late_orders_count}\n          type=\"Late\"\n          call=\"FULFILL >\"\n          styleClass=\"late-orders\"\n        />\n\n        <OrderCard\n          icon={<OrderCardIcon url={ordersImage} alt=\"orders\" />}\n          count={active_orders_count}\n          type=\"Current\"\n          call=\"VIEW >\"\n          styleClass=\"current-orders\"\n        />\n      </div>\n    );\n  }\n\n  renderCards(roles, currentStore) {\n    if (roles.tailor) {\n      return this.tailorHome(currentStore);\n    } else if (roles.admin) {\n      return this.adminHome(currentStore);\n    } else if (roles.retailer) {\n      return this.retailerHome(currentStore);\n    }\n  }\n\n  renderStore() {\n    if (!isEmpty(this.props.currentStore)) {\n      const { currentStore, currentUser, userRoles } = this.props;\n      const { id, name } = currentStore;\n      const roles = userRoles;\n      const storeEditPath = `/stores/${id}/edit`;\n      const storeOrShop = roles.retailer ? 'store' : 'shop';\n\n      return (\n        <div className=\"home\">\n          <h2 className=\"greeting\">Greetings, {name}</h2>\n          <p className=\"greeting\">\n            Here's what's happening with your {storeOrShop} right now.\n          </p>\n          {this.renderCards(roles, currentStore)}\n        </div>\n      );\n    } else {\n      return <div />;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <SectionHeader\n          text={`Home / ${this.props.currentStore.name}`}\n          showCart={!this.props.userRoles.tailor ? true : false}\n          link={'/orders/new'}\n          rotate={''}\n        />\n        {this.renderStore()}\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/Home.js","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst OrderCard = props => {\n  const { icon, count, type, call, styleClass } = props;\n  const className = `${styleClass} order-card`;\n  let countKind, link;\n\n  if (styleClass === 'current-orders' || styleClass === 'late-orders') {\n    countKind = 'Orders';\n    link = '/orders';\n  }\n\n  return (\n    <Link to={link}>\n      <div className={className}>\n        {icon}\n        <p className=\"order-card-text order-card-count\">{count}</p>\n        <p className=\"order-card-text order-card-type\">{type}</p>\n        <p className=\"order-card-text\">{countKind}</p>\n        <p className=\"order-card-text order-card-call\">{call}</p>\n      </div>\n    </Link>\n  );\n};\n\nexport default OrderCard;\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/OrderCard.js","import React from 'react';\n\nconst OrderCardIcon = (props) => {\n  const {url, alt} = props;\n  return (\n    <img className='order-card-icon' src={url} alt={alt} />\n  );\n}\n\nexport default OrderCardIcon;\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/OrderCardIcon.js"],"sourceRoot":""}