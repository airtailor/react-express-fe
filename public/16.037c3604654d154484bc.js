webpackJsonp([16],{677:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(1),s=a(u),c=r(15),d=r(19),f=r(0),m=(a(f),r(38)),v=a(m),p=r(8),h=r(716),E=r(326),L=a(E),R=r(4),y=a(R),b=function(e){return{retailerList:e.retailerList}},_=function(e){return(0,d.bindActionCreators)({setLoader:h.setLoader,removeLoader:h.removeLoader,getRetailerList:h.getRetailerList},e)},w=function(e){function t(){var e,r,a,o;n(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return r=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.renderRetailerRow=function(e){var t=e.id,r=e.name,n=e.active_orders_count,l=a.truncatedRetailerName(r),o="/stores/"+t+"/orders",i="/stores/"+t+"/edit";return s.default.createElement("div",{key:t},s.default.createElement("div",{className:"tailor-data-row"},s.default.createElement(p.Link,{to:o,className:"tailor-link"},s.default.createElement("div",{className:"tailor-data-cell"},l),s.default.createElement("div",{className:"tailor-data-cell"},n),s.default.createElement("div",{className:"tailor-data-cell"},s.default.createElement(p.Link,{to:i},"Edit")))),s.default.createElement("hr",{className:"tailor-break-row"}))},a.renderRetailerRows=function(){var e=a.props.retailerList;return(0,v.default)(e)?s.default.createElement("div",{className:"table-row"},s.default.createElement("div",{className:"loading-orders"},"Loading Retailers...")):s.default.createElement("div",{className:"tailor-container"},e.map(function(e){return a.renderRetailerRow(e)}))},a.renderRetailerHeaders=function(){return s.default.createElement("div",null,s.default.createElement("div",{className:"tailor-headers-container"},s.default.createElement("div",{className:"tailor-headers-row"},s.default.createElement("h3",{className:"tailor-header-cell"},"Retailer"),s.default.createElement("h3",{className:"tailor-header-cell"},"Assigned Orders"),s.default.createElement("h3",{className:"tailor-header-cell"},"Edit")),s.default.createElement("hr",{className:"tailor-header-break-row"})))},o=r,l(a,o)}return o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setLoader,r=e.removeLoader,a=e.getRetailerList;t(),a().then(function(){return r()})}},{key:"truncatedRetailerName",value:function(e){return e}},{key:"render",value:function(){var e=this.renderRetailerHeaders,t=this.renderRetailerRows;return s.default.createElement("div",null,s.default.createElement(L.default,{text:"Manage Retailers"}),s.default.createElement("div",{className:"tailors"},e(),t()))}}]),t}(u.Component);w.propTypes={retailerList:y.default.array.isRequired,setLoader:y.default.func.isRequired,removeLoader:y.default.func.isRequired,getRetailerList:y.default.func.isRequired},t.default=(0,c.connect)(b,_)(w)},716:function(e,t,r){"use strict";function a(){var e=i.expressApi+"/stores/retailers";return function(t){return d(t).then(f).then(function(){return o.default.get(e).then(function(e){t(n(e.data.body))}).catch(function(e){})})}}function n(e){return{type:i.SET_RETAILER_LIST,retailers:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTokens=t.validateToken=t.removeLoader=t.setLoader=void 0,t.getRetailerList=a;var l=r(52),o=function(e){return e&&e.__esModule?e:{default:e}}(l),i=r(337),u=r(25),s=u.setLoader,c=u.removeLoader,d=u.validateToken,f=u.setTokens;t.setLoader=s,t.removeLoader=c,t.validateToken=d,t.setTokens=f}});