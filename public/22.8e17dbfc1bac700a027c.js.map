{"version":3,"sources":["webpack:///./client/components/admin/tailors/TailorIndex.js"],"names":["mapStateToProps","tailorList","store","mapDispatchToProps","setLoader","removeLoader","getTailorList","dispatch","TailorsIndex","renderTailorRow","id","tailor","name","assigned","active_orders_count","arrived","arrived_orders_count","late","late_orders_count","truncatedTailorName","route","color","renderTailorRows","props","map","renderTailorHeaders","then","length","substring","tailorOrderHeaders","tailorOrderRows","propTypes","array","isRequired","func"],"mappings":"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","file":"22.8e17dbfc1bac700a027c.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport moment from 'moment';\nimport isEmpty from 'lodash/isEmpty';\nimport { Redirect, Link } from 'react-router-dom';\nimport { getTailorList, setLoader, removeLoader } from '../../../actions';\nimport SectionHeader from '../../SectionHeader';\nimport PropTypes from 'prop-types';\n\nconst mapStateToProps = store => {\n  return {\n    tailorList: store.tailorList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    { setLoader, removeLoader, getTailorList },\n    dispatch\n  );\n};\n\nclass TailorsIndex extends Component {\n  static propTypes = {\n    tailorList: PropTypes.array.isRequired, // mapStateToProps\n    setLoader: PropTypes.func.isRequired, // mapDispatchToProps\n    removeLoader: PropTypes.func.isRequired, // mapDispatchToProps\n    getTailorList: PropTypes.func.isRequired // mapDispatchToProps\n  };\n\n  componentDidMount() {\n    const { setLoader, removeLoader, getTailorList } = this.props;\n    setLoader();\n    getTailorList().then(() => removeLoader());\n  }\n\n  truncatedTailorName(name) {\n    const length = 14;\n    return name.length > 14 ? `${name.substring(0, 11)}...` : name;\n  }\n\n  renderTailorRow = tailor => {\n    const {\n      id,\n      name,\n      active_orders_count: assigned,\n      arrived_orders_count: arrived,\n      late_orders_count: late\n    } = tailor;\n\n    const truncatedTailorName = this.truncatedTailorName(name);\n    const route = `/stores/${id}/orders`;\n\n    return (\n      <div key={id}>\n        <div className=\"tailor-data-row\">\n          <Link to={route} className=\"tailor-link\">\n            <div className=\"tailor-data-cell\">{truncatedTailorName}</div>\n            <div className=\"tailor-data-cell\">{assigned}</div>\n            <div className=\"tailor-data-cell\">{arrived}</div>\n            <div className=\"tailor-data-cell\" style={{ color: 'red' }}>\n              {late}\n            </div>\n          </Link>\n        </div>\n        <hr className=\"tailor-break-row\" />\n      </div>\n    );\n  };\n\n  renderTailorRows = () => {\n    const { tailorList } = this.props;\n    if (!isEmpty(tailorList)) {\n      return (\n        <div className=\"tailor-container\">\n          {tailorList.map(tailor => this.renderTailorRow(tailor))}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"table-row\">\n          <div className=\"loading-orders\">Loading Tailors...</div>\n        </div>\n      );\n    }\n  };\n\n  renderTailorHeaders = () => {\n    return (\n      <div>\n        <div className=\"tailor-headers-container\">\n          <div className=\"tailor-headers-row\">\n            <h3 className=\"tailor-header-cell\">Tailor</h3>\n            <h3 className=\"tailor-header-cell\">Assigned</h3>\n            <h3 className=\"tailor-header-cell\">In Stock</h3>\n            <h3 className=\"tailor-header-cell\">Late</h3>\n          </div>\n          <hr className=\"tailor-header-break-row\" />\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const tailorOrderHeaders = this.renderTailorHeaders;\n    const tailorOrderRows = this.renderTailorRows;\n    return (\n      <div>\n        <SectionHeader text={'Manage Tailors'} />\n        <div className=\"tailors\">\n          {tailorOrderHeaders()}\n          {tailorOrderRows()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TailorsIndex);\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/admin/tailors/TailorIndex.js"],"sourceRoot":""}