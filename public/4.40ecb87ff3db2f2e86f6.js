webpackJsonp([4],{680:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),c=n(s),d=r(15),f=r(19),p=r(8),m=r(4),h=n(m),y=r(51),v=r(25),b=r(327),O=r(112),_=n(O),E=r(322),w=n(E),g=r(329),j=n(g),N=r(328),R=n(N),k=r(740),P=n(k),T=r(742),C=n(T),S=r(741),L=n(S),x=r(700),M=n(x),A=r(698),q=n(A),I=r(697),D=n(I),F=r(326),U=n(F),B=function(e){return{currentUser:e.currentUser,currentStore:e.currentStore,openOrders:e.storeOrders,currentOrder:e.currentOrder,userRoles:e.userRoles}},G=function(e){return(0,f.bindActionCreators)({getCurrentOrder:v.getCurrentOrder,updateOrder:v.updateOrder,setLoader:v.setLoader,removeLoader:v.removeLoader,setGrowler:v.setGrowler},e)},H=function(e){function t(e){a(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.checkOrderIn=function(){var e=r.props,t=e.currentOrder,n=t.id,o=t.store_id,a=(e.userRoles.tailor,{order:{id:n,store_id:o,arrived:!0}});r.props.updateOrder(a).catch(function(e){return console.log(e)})},r.fulfillOrder=function(){var e=r.props.currentOrder,t=e.id,n=e.store_id,o={order:{id:t,store_id:n,fulfilled:!0}};r.props.setLoader(),r.setState({loadingLabel:!0}),r.props.updateOrder(o).then(function(e){var t=r.props,n=t.currentOrder,o=t.userRoles,a=(0,b.shipmentActions)(n,o);(0,b.shipmentTypes)(o).has("mail_shipment")&&r.makeShippingLabel(a)}).catch(function(e){return console.log(e)})},r.postShipment=function(e,t,n){r.props.setLoader(),(0,b.fireShipmentCreate)(e,t,n).then(function(e){if(e.data.body.errors){var t=e.data.body.errors[0];r.props.setGrowler({kind:"warning",message:t})}else r.refreshCurrentOrder();r.setState({loadingLabel:!1}),r.props.removeLoader()}).catch(function(e){return console.log("err",e)})},r.makeShippingLabel=function(e){return r.postShipment([r.props.currentOrder],e,"mail_shipment")},r.renderPrintLabel=function(){var e=r.props,t=e.currentOrder,n=e.currentOrder.fulfilled,o=e.userRoles,a=e.userRoles.tailor,l=r.state.loadingLabel,u=(0,b.shipmentActions)(t,o),i=void 0,s=void 0,d=void 0,f=void 0;switch((0,b.labelState)(o,t,l)){case"needs_label":s="CREATE LABEL",i=r.makeShippingLabel,d=u;break;case"in_progress":s="CREATING LABEL";case"label_created":s="PRINT LABEL",i=function(){return window.print()},f=c.default.createElement(j.default,null)}if(n&&a)return c.default.createElement("div",null,c.default.createElement(U.default,{className:"order-show-control-button",text:s,onClick:function(){return i(d)}}),f)},r.renderNotesForm=function(){if(r.state.displayNotesForm){var e=r.props,t=e.userRoles,n=t.tailor,o=t.admin,a=e.currentOrder,l=void 0,u=void 0;return n?(l="Update Tailor Notes",u="provider_notes"):o&&(l="Update Order Notes",u="requester_notes"),c.default.createElement("form",{className:"notes-form",onSubmit:function(e){return r.submitNotes(e)}},c.default.createElement("label",null,c.default.createElement("h3",{className:"sans-serif"},l),c.default.createElement("br",null),c.default.createElement("textarea",{className:"order-details-notes-textarea",defaultValue:a[u],onChange:function(e){return r.updateNotes(e.target.value)},cols:36,rows:10,placeholder:"Is this a special order or customer? Enter any important notes about the overall order here to help us serve you best!"})),c.default.createElement("br",null),c.default.createElement("input",{className:"short-button",type:"submit",value:"Submit"}),c.default.createElement("hr",null))}return c.default.createElement("div",null)},r.renderToggleNotesFormButton=function(){var e=r.state.displayNotesForm,t=r.props,n=t.userRoles,o=n.tailor,a=(n.admin,t.currentOrder,null);return a=e?"Hide":o?"Add Tailor Notes":"Add Order Notes",c.default.createElement("div",null,c.default.createElement("div",{style:{marginLeft:"15px"}},c.default.createElement(D.default,{text:a,onClick:function(){return r.showHideNotesForm()}})))},r.renderPrintInstructions=function(){var e=r.props.currentOrder,t=e.id,n=e.requester_notes,o=e.provider_notes,a=e.fulfilled,l=e.customer,u=l.first_name,i=l.last_name,s=n||"Not Provided",d=o||"Not Provided";if(!a)return c.default.createElement("div",null,c.default.createElement(U.default,{onClick:window.print,text:"PRINT INSTRUCTIONS",className:"print-instructions-button"}),c.default.createElement("div",{className:"print print-instructions"},c.default.createElement("div",null,c.default.createElement("img",{src:_.default,style:{maxWidth:"100px"}})),c.default.createElement("h2",null,"Alterations for Order #",t),c.default.createElement("h4",null,"Customer Name: ",u+" "+i),c.default.createElement(P.default,r.props),c.default.createElement("h3",null,"Order Notes: ",c.default.createElement("p",{style:{display:"inline"}},s)),c.default.createElement("h3",null,"Taior Notes: ",c.default.createElement("p",{style:{display:"inline"}},d))))},r.state={notes:"",displayNotesForm:!1,loadingLabel:!1,sendingMessenger:!1},r}return u(t,e),i(t,[{key:"refreshCurrentOrder",value:function(){var e=this;this.props.setLoader();var t=this.props.match.params.order_id,r=this.props.currentStore.id;(0,this.props.getCurrentOrder)(r,t).then(function(){return e.props.removeLoader()}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.refreshCurrentOrder()}},{key:"updateNotes",value:function(e){this.setState({notes:e})}},{key:"submitNotes",value:function(e){var t,r=this;e.preventDefault();var n=this.props,a=n.currentOrder,l=a.id,u=a.store_id,i=n.userRoles.tailor,s=i?"provider_notes":"requester_notes",c={order:(t={},o(t,s,this.state.notes),o(t,"id",l),o(t,"store_id",u),t)};this.props.updateOrder(c).then(function(e){r.props.setGrowler({kind:"success",message:"Notes Updated Successfully"}),r.setState({displayNotesForm:!1})}).catch(function(e){return console.log(e)})}},{key:"showHideNotesForm",value:function(){this.setState({displayNotesForm:!this.state.displayNotesForm})}},{key:"renderEditOrderButton",value:function(){var e=this.props,t=e.userRoles.admin,r=e.currentOrder,n="/orders/"+r.id+"/edit";if(t)return c.default.createElement("div",null,c.default.createElement(p.Link,{to:n},c.default.createElement("input",{className:"short-button",type:"submit",value:"Edit Order"})))}},{key:"renderOrderControls",value:function(){return c.default.createElement("div",{className:"flex-container",style:{justifyContent:"center"}},this.renderCheckOrderIn(),this.renderFulfillOrder(),this.renderPrintLabel())}},{key:"orderTotal",value:function(e){return c.default.createElement("div",null,c.default.createElement("hr",{className:"order-show-line"}),c.default.createElement("div",{style:{marginLeft:"15px"}},c.default.createElement("h3",null,c.default.createElement("span",{className:"form-label"},"Total "),c.default.createElement("span",{style:{float:"right",paddingRight:"15px",fontFamily:"Raleway",fontWeight:600}},"$",e))),c.default.createElement("hr",{className:"order-show-line"}))}},{key:"notes",value:function(){var e=this.props.userRoles,t=e.admin,r=e.retailer,n=e.tailor;return r?c.default.createElement(C.default,this.props):n||t?c.default.createElement("div",null,c.default.createElement(C.default,this.props),this.renderToggleNotesFormButton(),this.renderNotesForm()):void 0}},{key:"renderCheckOrderIn",value:function(){if(!this.props.currentOrder.arrived&&!this.props.userRoles.retailer)return c.default.createElement(U.default,{className:"order-show-control-button",text:"CHECK IN ORDER",onClick:this.checkOrderIn})}},{key:"renderFulfillOrder",value:function(){var e=this.props,t=e.currentOrder,r=t.arrived,n=t.fulfilled,o=e.userRoles.retailer;if(r&&!n&&!o)return c.default.createElement(U.default,{className:"order-show-control-button",text:"FULFILL ORDER",onClick:this.fulfillOrder})}},{key:"renderOrder",value:function(){var e=this.props,t=e.currentOrder,r=t.total,n=t.customer,o=(t.arrived,e.currentOrder),a=e.userRoles,l=(a.admin,a.retailer);a.tailor;return c.default.createElement("div",{className:"flex-container",style:{justifyContent:"space-between",maxWidth:"1200px"}},c.default.createElement("div",{style:{width:"52%",borderRight:"1px solid gray",paddingRight:"3%"}},c.default.createElement("h1",{className:"title"},"ORDER #",o.id),l?"":this.renderPrintInstructions(),c.default.createElement(P.default,this.props),this.orderTotal(r),this.notes()),c.default.createElement("div",{style:{float:"right",width:"40%"}},c.default.createElement(L.default,this.props),c.default.createElement("hr",{className:"order-show-line",style:{margin:"20px 0px"}}),c.default.createElement(M.default,{customer:n}),c.default.createElement(q.default,{customer:n})))}},{key:"render",value:function(){var e=this.props,t=e.currentStore.name,r=e.currentOrder;return(0,y.isEmpty)(r)?c.default.createElement("div",null):c.default.createElement("div",null,c.default.createElement(w.default,{text:"Orders / "+t+" / #"+r.id}),c.default.createElement("div",{className:"order-show"},c.default.createElement("div",null,c.default.createElement(R.default,this.props),this.renderEditOrderButton(),this.renderOrder()),this.renderOrderControls()))}}]),t}(s.Component);H.propTypes={currentUser:h.default.object.isRequired,currentStore:h.default.object.isRequired,openOrders:h.default.array.isRequired,currentOrder:h.default.object.isRequired,userRoles:h.default.object.isRequired,getCurrentOrder:h.default.func.isRequired,updateOrder:h.default.func.isRequired,setLoader:h.default.func.isRequired,removeLoader:h.default.func.isRequired,setGrowler:h.default.func.isRequired},H.propTypes={currentUser:h.default.object.isRequired,currentStore:h.default.object.isRequired,openOrders:h.default.array.isRequired,currentOrder:h.default.object.isRequired,userRoles:h.default.object.isRequired,getCurrentOrder:h.default.func.isRequired,updateOrder:h.default.func.isRequired,setLoader:h.default.func.isRequired,removeLoader:h.default.func.isRequired,setGrowler:h.default.func.isRequired},t.default=(0,d.connect)(B,G)(H)},695:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),l=r(4),u=n(l),i=function(e){return a.default.createElement("h5",{className:"order-show-title"},e.title)};i.propTypes={title:u.default.string.isRequired},t.default=i},696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderStatus=void 0;var n=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=r(51),l=(t.getOrderStatus=function(e,t){var r=(e.shipments,e.arrived,e.late,e.due_date,e.fulfilled,e.customer_alerted,e.ship_to_store,t.retailer),n=t.admin,o=t.tailor,u=void 0,i=void 0;if((0,a.isEmpty)(e.shipments))u="Needs Transit",i="red";else if((0,a.isEmpty)(e.shipments)||e.arrived){if(e.late&&!e.fulfilled){if(n||o){var s=l(e.due_date,!0);u=s}else r&&(u="Delayed");i="red"}else if(e.fulfilled&&!e.customer_alerted)u="In Transit",i="gold";else if(e.fulfilled&&e.customer_alerted&&e.ship_to_store)u="Notified",i="red";else if(e.arrived&&!e.fulfilled){u=l(e.due_date,!1);var c=u.split("")[0];c>3?i="green":c>0?i="gold":c<1&&(i="red")}}else{var d=e.shipments[e.shipments.length-1],f=d.delivery_type;if("mail_shipment"===f)u="In Transit",i="gold";else if("messenger_shipment"===f){var p=d.status;"pending"===p?(u="Contacting",i="red"):"pickup"===p?(u="Picking Up",i="goldenrod"):"pickup_complete"===p||"dropoff"===p?(u="Dropping Off",i="gold"):"delivered"===p&&(u="Delivered",i="green")}}return{status:u,color:i}},function(e,t){var r=(0,o.default)(new Date),n=(0,o.default)(e);return(Math.abs(n.diff(r,"days"))+(t?" days late":" days to go")).toUpperCase()})},697:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(u),s=r(108),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props.text||"Add Order Notes";return i.default.createElement("p",{className:"clear-button",onClick:this.props.onClick},i.default.createElement("img",{src:s.notesImage,className:"notes-image"}),i.default.createElement("span",{className:"blue-link"},e))}}]),t}(u.Component);t.default=c},698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=r(8),l=r(108),u=function(e){return o.default.createElement("div",{style:{marginTop:"30px"}},o.default.createElement("img",{src:l.measurementsImage,className:"notes-image"}),o.default.createElement(a.Link,{to:"/customers/"+e.customer.id+"/measurements",className:"blue-link"},"Customer Measurements"))};t.default=u},699:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),c=r(4),d=n(c),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.color,r=e.text,n=e.className;return s.default.createElement("div",{className:t+" status-card order-data-cell "+n},r)}}]),t}(i.Component);f.propTypes={color:d.default.string.isRequired,text:d.default.string.isRequired},t.default=f},700:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),c=r(695),d=n(c),f=r(325),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"renderCustomerAddress",value:function(){if(this.props.withAddress&&this.props.customer.street){var e=this.props.customer,t=e.street,r=e.street_two,n=e.city,o=e.state_province,a=e.zip_code;return s.default.createElement("div",null,s.default.createElement(d.default,{title:"ADDRESS"}),s.default.createElement("p",{className:"order-show-p-content"},t),s.default.createElement("p",{className:"order-show-p-content"},r),s.default.createElement("p",{className:"order-show-p-content"},n,", ",o," ",a))}}},{key:"render",value:function(){var e=this.props,t=e.customer,r=t.first_name,n=t.last_name,o=t.phone,a=t.email;e.withAddress;return s.default.createElement("div",null,s.default.createElement(d.default,{title:"CUSTOMER"}),s.default.createElement("p",{className:"order-show-p-content"},r+" "+n),s.default.createElement(d.default,{title:"PHONE"}),s.default.createElement("p",{className:"order-show-p-content"},""+(0,f.formatPhone)(o)),s.default.createElement(d.default,{title:"EMAIL"}),s.default.createElement("p",{className:"order-show-p-content"},""+a),this.renderCustomerAddress())}}]),t}(i.Component);t.default=p},737:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),c=r(695),d=n(c),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"renderOldAddress",value:function(e){return s.default.createElement("div",{className:"order-show-p-content"},s.default.createElement("p",null,e.name||e.first_name+" "+e.last_name),s.default.createElement("p",null,e.street1),s.default.createElement("p",null,e.street2),s.default.createElement("p",null,e.city,", ",e.state," ",e.zip))}},{key:"renderNewAddress",value:function(e){return s.default.createElement("div",{className:"order-show-p-content"},s.default.createElement("p",null,e.name),s.default.createElement("p",null,e.street),s.default.createElement("p",null,e.street_two),s.default.createElement("p",null,e.city,", ",e.state_province," ",e.zip_code))}},{key:"determineAddress",value:function(){var e=this.props.order,t=e.ship_to_store,r=e.retailer,n=e.customer;return t?r.address||r:n.addresses?n.addresses[0]||n:n}},{key:"determineAddressName",value:function(){var e=this.props.order,t=e.ship_to_store,r=e.retailer,n=e.customer;return t?r.name:n.first_name+" "+n.last_name}},{key:"render",value:function(){var e=this.props.order,t=e.ship_to_store,r=(e.retailer,e.customer,this.determineAddress());r.name=this.determineAddressName();var n=r.street?this.renderNewAddress(r):this.renderOldAddress(r),o=t?"DELIVERY TO STORE":"DELIVERY TO CUSTOMER";return s.default.createElement("div",null,s.default.createElement(d.default,{title:o}),n)}}]),t}(i.Component);t.default=f},738:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),c=r(695),d=n(c),f=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,r=e.title,n=this.props.currentOrder[t]||"Not Provided";return s.default.createElement("div",null,s.default.createElement(d.default,{title:r}),s.default.createElement("p",{className:"notes"},n))}}]),t}(i.Component);t.default=f},739:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(u),s=r(51),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"renderAlt",value:function(e,t){return i.default.createElement("p",{key:t,className:"cart-alteration"},i.default.createElement("span",null,e.name))}},{key:"render",value:function(){var e=this.props.garment.alterations;return(0,s.isEmpty)(e)?i.default.createElement("div",null):i.default.createElement("div",null,e.map(this.renderAlt))}}]),t}(u.Component);t.default=c},740:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),c=n(s),d=r(51),f=r(739),p=n(f),m=r(695),h=n(m),y=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"getUniqueItemTypes",value:function(e){return(0,d.uniqBy)(e.map(function(e){return{type:e.item_type.name,items:[]}}),"type")}},{key:"sortItemsByType",value:function(){var e=this.props.currentOrder.items;if((0,d.isEmpty)(e))return[];var t=new Set(this.getUniqueItemTypes(e)),r=!0,n=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)for(var i=l.value,s=i.item_type.name,c=t.values(),f=!0;f;){var p=c.next(),m=p.value;p.done?f=!1:m.type===s&&m.items.push(i)}}catch(e){n=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw a}}return[].concat(o(t))}},{key:"renderOrderItems",value:function(e,t,r){var n=t.type.toUpperCase()+" #"+(r+1);c.default.createElement(p.default,{garment:e});return(0,d.isEmpty)(e.alterations)?c.default.createElement("div",null):c.default.createElement("div",{key:r,style:{marginLeft:"15px"}},c.default.createElement("h3",{style:{paddingRight:"15px"}},c.default.createElement(h.default,{title:n})),c.default.createElement("span",{className:"cart-item"},c.default.createElement(p.default,{garment:e})))}},{key:"renderList",value:function(){var e=this;return this.sortItemsByType().map(function(t,r){return t.items.map(function(r,n){return e.renderOrderItems(r,t,n)})})}},{key:"render",value:function(){return(0,d.isEmpty)(this.props.currentOrder.items)?c.default.createElement("div",null):c.default.createElement("div",null,this.renderList())}}]),t}(s.Component);t.default=y},741:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),s=n(i),c=r(0),d=n(c),f=r(695),p=n(f),m=r(696),h=r(699),y=n(h),v=r(737),b=n(v),O=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"formatOrderDate",value:function(e){return(0,d.default)(e.created_at).format("MMMM Do, Y")}},{key:"formatOrderTime",value:function(e){return(0,d.default)(e.created_at).format("h:mma")}},{key:"render",value:function(){var e=(0,m.getOrderStatus)(this.props.currentOrder,this.props.userRoles),t=e.status,r=e.color;return s.default.createElement("div",null,s.default.createElement(p.default,{title:"ORDER PLACED"}),s.default.createElement("p",{className:"order-show-p-content"},this.formatOrderDate(this.props.currentOrder)),s.default.createElement("p",{style:{marginBottom:"25px"},className:"order-show-p-content"},this.formatOrderTime(this.props.currentOrder)),s.default.createElement(p.default,{title:"STATUS"}),s.default.createElement(y.default,{text:t,color:r,className:"order-show-status-card"}),s.default.createElement(b.default,{order:this.props.currentOrder}))}}]),t}(i.Component);t.default=O},742:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),c=n(s),d=r(738),f=n(d),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props.userRoles,t=e.admin,r=e.retailer,n=e.tailor;return r?c.default.createElement(f.default,u({},this.props,{title:"ORDER NOTES",field:"requester_notes"})):n?c.default.createElement("div",null,c.default.createElement(f.default,u({},this.props,{title:"ORDER NOTES",field:"requester_notes"})),c.default.createElement(f.default,u({},this.props,{title:"TAILOR NOTES",field:"provider_notes"}))):t?c.default.createElement("div",null,c.default.createElement(f.default,u({},this.props,{title:"TAILOR NOTES",field:"provider_notes"})),c.default.createElement(f.default,u({},this.props,{title:"ORDER NOTES",field:"requester_notes"}))):void 0}}]),t}(s.Component);t.default=p}});