webpackHotUpdate(0,{

/***/ 458:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(5), RootInstanceProvider = __webpack_require__(6), ReactMount = __webpack_require__(4), React = __webpack_require__(0); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(11);\n\nvar _redux = __webpack_require__(12);\n\nvar _reactRouterDom = __webpack_require__(16);\n\nvar _actions = __webpack_require__(13);\n\nvar _shippingFunctions = __webpack_require__(248);\n\nvar _isEmpty = __webpack_require__(48);\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _SectionHeader = __webpack_require__(26);\n\nvar _SectionHeader2 = _interopRequireDefault(_SectionHeader);\n\nvar _shirt = __webpack_require__(270);\n\nvar _shirt2 = _interopRequireDefault(_shirt);\n\nvar _pants = __webpack_require__(268);\n\nvar _pants2 = _interopRequireDefault(_pants);\n\nvar _tie = __webpack_require__(272);\n\nvar _tie2 = _interopRequireDefault(_tie);\n\nvar _dress = __webpack_require__(265);\n\nvar _dress2 = _interopRequireDefault(_dress);\n\nvar _suitJacket = __webpack_require__(271);\n\nvar _suitJacket2 = _interopRequireDefault(_suitJacket);\n\nvar _supplies = __webpack_require__(553);\n\nvar _supplies2 = _interopRequireDefault(_supplies);\n\nvar _Measurements = __webpack_require__(460);\n\nvar _Measurements2 = _interopRequireDefault(_Measurements);\n\nvar _OrderComplete = __webpack_require__(84);\n\nvar _OrderComplete2 = _interopRequireDefault(_OrderComplete);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OrdersShow = function (_Component) {\n  _inherits(OrdersShow, _Component);\n\n  function OrdersShow(props) {\n    _classCallCheck(this, OrdersShow);\n\n    var _this = _possibleConstructorReturn(this, (OrdersShow.__proto__ || Object.getPrototypeOf(OrdersShow)).call(this));\n\n    _this.state = {\n      notes: '',\n      displayNotesForm: false,\n      showMeasurements: false\n    };\n    return _this;\n  }\n\n  _createClass(OrdersShow, [{\n    key: 'refreshCurrentOrder',\n    value: function refreshCurrentOrder() {\n      var order_id = this.props.match.params.order_id;\n\n      var store_id = this.props.currentStore.id;\n      var getCurrentOrder = this.props.getCurrentOrder;\n\n      getCurrentOrder(store_id, order_id).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.refreshCurrentOrder();\n    }\n  }, {\n    key: 'componentDidUnmount',\n    value: function componentDidUnmount() {\n      console.log('\\n\\n\\n\\ncomponent did unmount!');\n    }\n  }, {\n    key: 'setNotes',\n    value: function setNotes(props) {\n      if (props.currentUser.user.roles[0].name === 'tailor') {\n        return props.currentOrder.provider_notes;\n      } else if (props.currentUser.user.roles[0].name === 'admin') {\n        return props.currentOrder.requester_notes;\n      }\n    }\n  }, {\n    key: 'filterByItemType',\n    value: function filterByItemType(item, type) {\n      return item.item_type.name == type.name;\n    }\n  }, {\n    key: 'itemTypesList',\n    value: function itemTypesList() {\n      return this.props.currentOrder.items.map(function (item) {\n        return item.item_type.name;\n      });\n    }\n  }, {\n    key: 'removeDuplicates',\n    value: function removeDuplicates(arr) {\n      return arr.filter(function (elem, index, self) {\n        return index == self.indexOf(elem);\n      });\n    }\n  }, {\n    key: 'sortItemsByType',\n    value: function sortItemsByType() {\n      var items = this.props.currentOrder.items;\n\n      var itemTypes = this.removeDuplicates(this.itemTypesList());\n      return itemTypes.reduce(function (newList, type) {\n        var filteredItems = items.filter(function (item) {\n          return item.item_type.name == type;\n        });\n\n        if (filteredItems.length > 0) {\n          var newValue = { name: type, filteredItems: filteredItems };\n          newList.push(newValue);\n        }\n        return newList;\n      }, []);\n    }\n  }, {\n    key: 'renderAlteration',\n    value: function renderAlteration(alteration, index) {\n      return _react2.default.createElement(\n        'li',\n        { key: index },\n        alteration.name\n      );\n    }\n\n    // renderItem(item, index){\n    //   const renderAlt = this.renderAlteration;\n    //\n    //   return (\n    //     <li className='type-list' key={index}>\n    //      { item.item_type.name } #{index + 1}\n    //      <ul>\n    //        { item.alterations.map(renderAlt)}\n    //      </ul>\n    //     </li>\n    //   )\n    // }\n\n  }, {\n    key: 'getImageForItemType',\n    value: function getImageForItemType(name) {\n      switch (name) {\n        case 'Pants':\n          return _pants2.default;\n        case 'Shirt':\n          return _shirt2.default;\n        case 'Dress':\n          return _dress2.default;\n        case 'Jacket':\n          return _suitJacket2.default;\n        case 'Tie':\n          return _tie2.default;\n        default:\n          return _supplies2.default;\n      }\n    }\n  }, {\n    key: 'renderList',\n    value: function renderList() {\n      var _this2 = this;\n\n      var renderAlt = this.renderAlteration;\n      return this.sortItemsByType().map(function (itemType, index) {\n        var image = _this2.getImageForItemType(itemType.name);\n        return itemType.filteredItems.map(function (item, index) {\n          return _react2.default.createElement(\n            'div',\n            { className: 'card', key: index },\n            _react2.default.createElement(\n              'div',\n              { className: 'type-heading' },\n              _react2.default.createElement('img', { className: 'item-type-image', src: image, alt: itemType.name }),\n              _react2.default.createElement(\n                'h3',\n                null,\n                item.item_type.name,\n                ' #',\n                index + 1\n              ),\n              _react2.default.createElement(\n                'ul',\n                null,\n                item.alterations.map(renderAlt)\n              )\n            )\n          );\n        });\n      });\n    }\n  }, {\n    key: 'orderNotes',\n    value: function orderNotes(party_notes) {\n      var notes = this.props.currentOrder[party_notes] || 'N/A';\n      var title = party_notes === 'provider_notes' ? 'Tailor Notes:' : 'Order Notes:';\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'h3',\n          null,\n          title\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'notes' },\n          notes\n        )\n      );\n    }\n  }, {\n    key: 'updateNotes',\n    value: function updateNotes(notes) {\n      this.setState({ notes: notes });\n    }\n  }, {\n    key: 'submitNotes',\n    value: function submitNotes(event) {\n      var _order;\n\n      event.preventDefault();\n      var key = this.props.currentUser.user.roles[0].name === 'tailor' ? 'provider_notes' : 'requester_notes';\n      var data = { order: (_order = {}, _defineProperty(_order, key, this.state.notes), _defineProperty(_order, 'id', this.props.currentOrder.id), _defineProperty(_order, 'store_id', this.props.currentOrder.store_id), _order) };\n      this.props.updateOrder(data).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'notesForm',\n    value: function notesForm() {\n      var _this3 = this;\n\n      if (this.state.displayNotesForm) {\n        var role = this.props.currentUser.user.roles[0].name;\n        var prompt = void 0;\n        var party = void 0;\n\n        if (role === 'tailor') {\n          prompt = 'Add Tailor Notes?';\n          party = 'provider_notes';\n        } else if (role === 'admin') {\n          prompt = 'Add Admin Notes?';\n          party = 'requester_notes';\n        }\n\n        return _react2.default.createElement(\n          'form',\n          { className: 'notes-form', onSubmit: function onSubmit(e) {\n              return _this3.submitNotes(e);\n            } },\n          _react2.default.createElement(\n            'label',\n            null,\n            _react2.default.createElement(\n              'h3',\n              null,\n              prompt\n            ),\n            _react2.default.createElement('br', null),\n            _react2.default.createElement('textarea', {\n              cols: 43, rows: 10,\n              defaultValue: this.props.currentOrder[party],\n              onChange: function onChange(e) {\n                return _this3.updateNotes(e.target.value);\n              } })\n          ),\n          _react2.default.createElement('br', null),\n          _react2.default.createElement('input', { className: 'short-button', type: 'submit', value: 'Submit' }),\n          _react2.default.createElement('hr', null)\n        );\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'checkOrderIn',\n    value: function checkOrderIn() {\n      var data = { order: { id: this.props.currentOrder.id, store_id: this.props.currentOrder.store_id, arrived: true } };\n      this.props.updateOrder(data).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderArrivedButton',\n    value: function renderArrivedButton() {\n      var _this4 = this;\n\n      if (!this.props.currentOrder.arrived) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { onClick: function onClick() {\n                return _this4.checkOrderIn();\n              }, className: 'pink-button' },\n            'Check Order In'\n          )\n        );\n      }\n    }\n  }, {\n    key: 'fulfillOrder',\n    value: function fulfillOrder() {\n      var _this5 = this;\n\n      var data = { order: { id: this.props.currentOrder.id, store_id: this.props.currentOrder.store_id, fulfilled: true } };\n      this.props.updateOrder(data).then(function (res) {\n        return _this5.refreshCurrentOrder();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderFulfillButton',\n    value: function renderFulfillButton() {\n      var _this6 = this;\n\n      var _props$currentOrder = this.props.currentOrder,\n          arrived = _props$currentOrder.arrived,\n          fulfilled = _props$currentOrder.fulfilled;\n\n      if (arrived && !fulfilled) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { onClick: function onClick() {\n                return _this6.fulfillOrder();\n              }, className: 'pink-button' },\n            'Fulfill This Order'\n          )\n        );\n      } else if (arrived && fulfilled) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', disabled: true },\n            'Order Completed \\u2714\\uFE0F'\n          )\n        );\n      }\n    }\n  }, {\n    key: 'showHideNotesForm',\n    value: function showHideNotesForm() {\n      var value = !this.state.displayNotesForm;\n      this.setState({ displayNotesForm: value });\n    }\n  }, {\n    key: 'makeShippingLabel',\n    value: function makeShippingLabel(type) {\n      var _this7 = this;\n\n      var data = { shipment: { type: type, order_id: this.props.currentOrder.id } };\n      (0, _actions.createShipment)(data).then(function (res) {\n        return _this7.refreshCurrentOrder();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderPrintLabels',\n    value: function renderPrintLabels() {\n      var _this8 = this;\n\n      var _props = this.props,\n          currentUser = _props.currentUser,\n          currentOrder = _props.currentOrder;\n\n      var role = currentUser.user.roles[0].name;\n      var shippingType = (0, _shippingFunctions.getShippingType)(role, currentOrder.type);\n      var printPrompt = (0, _shippingFunctions.getPrintButtonPrompt)(shippingType, currentOrder);\n\n      if (printPrompt.split(' ')[0] === \"Print\") {\n        var url = currentOrder[(0, _shippingFunctions.toSnakeCaseFromCamelCase)((0, _shippingFunctions.lowerCaseFirstLetter)(shippingType))].shipping_label;\n\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', onClick: function onClick() {\n                return window.print();\n              } },\n            printPrompt\n          ),\n          _react2.default.createElement(_OrderComplete2.default, { shippingType: shippingType })\n        );\n      } else if (printPrompt.split(' ')[0] === 'Create') {\n        return _react2.default.createElement(\n          'button',\n          { className: 'pink-button', onClick: function onClick() {\n              return _this8.makeShippingLabel(shippingType);\n            } },\n          printPrompt\n        );\n      }\n    }\n  }, {\n    key: 'renderEditOrder',\n    value: function renderEditOrder(role, orderEditPath) {\n      if (role === 'admin') {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { to: orderEditPath },\n            _react2.default.createElement('input', { className: 'short-button', type: 'submit', value: 'Edit Order' })\n          )\n        );\n      }\n    }\n  }, {\n    key: 'editComponents',\n    value: function editComponents() {\n      var _this9 = this;\n\n      if (this.props.currentUser.user.roles[0].name != 'retailer') {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', onClick: function onClick() {\n                return _this9.showHideNotesForm();\n              } },\n            this.state.displayNotesForm ? 'Hide' : 'Add Notes'\n          ),\n          this.notesForm(),\n          this.renderArrivedButton(),\n          this.renderFulfillButton(),\n          this.renderPrintLabels()\n        );\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'renderOrderDetails',\n    value: function renderOrderDetails() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        this.renderList(),\n        this.orderNotes('requester_notes'),\n        this.orderNotes('provider_notes'),\n        this.editComponents()\n      );\n    }\n  }, {\n    key: 'showHideDeatilsOrCustomerMeasurementsButton',\n    value: function showHideDeatilsOrCustomerMeasurementsButton(boolean) {\n      var value = !boolean;\n      this.setState({ showMeasurements: value });\n    }\n  }, {\n    key: 'renderDetailsOrMeasurementsbutton',\n    value: function renderDetailsOrMeasurementsbutton(role, state) {\n      var _this10 = this;\n\n      if (role != 'retailer') {\n        var showMeasurements = this.state.showMeasurements;\n\n        var value = showMeasurements ? 'See Order Details' : 'See Measurements';\n        return _react2.default.createElement('input', {\n          type: 'submit',\n          value: value,\n          className: 'short-button',\n          onClick: function onClick() {\n            return _this10.showHideDeatilsOrCustomerMeasurementsButton(showMeasurements);\n          } });\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          currentStore = _props2.currentStore,\n          currentOrder = _props2.currentOrder;\n      var customer = currentOrder.customer;\n\n      var orderEditPath = '/orders/' + currentOrder.id + '/edit';\n      var headerText = 'Orders / ' + currentStore.name + ' / #' + currentOrder.id;\n\n      if (!(0, _isEmpty2.default)(currentOrder)) {\n        var customerRoute = '/customers/' + customer.id + '/edit';\n        var mainContent = !this.state.showMeasurements ? this.renderOrderDetails() : _react2.default.createElement(_Measurements2.default, { customer: customer });\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SectionHeader2.default, { text: headerText, linkTo: customerRoute, linkText: customer.first_name + ' ' + customer.last_name }),\n          _react2.default.createElement(\n            'div',\n            { className: 'order-show' },\n            this.renderEditOrder(this.props.currentUser.user.roles[0].name, orderEditPath),\n            this.renderDetailsOrMeasurementsbutton(this.props.currentUser.user.roles[0].name, this.state),\n            mainContent\n          )\n        );\n      } else {\n        //debugger;\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SectionHeader2.default, { text: headerText }),\n          _react2.default.createElement(\n            'div',\n            null,\n            'Loading..'\n          )\n        );\n      }\n    }\n  }]);\n\n  return OrdersShow;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.currentUser,\n    currentStore: store.currentStore,\n    openOrders: store.storeOrders,\n    currentOrder: store.currentOrder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return (0, _redux.bindActionCreators)({ getCurrentOrder: _actions.getCurrentOrder, updateOrder: _actions.updateOrder }, dispatch);\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(OrdersShow);\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(7); if (makeExportsHot(module, __webpack_require__(0))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"OrdersShow.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9vcmRlcnMvc2hvdy9PcmRlcnNTaG93LmpzPzFkNzEiXSwibmFtZXMiOlsiT3JkZXJzU2hvdyIsInByb3BzIiwic3RhdGUiLCJub3RlcyIsImRpc3BsYXlOb3Rlc0Zvcm0iLCJzaG93TWVhc3VyZW1lbnRzIiwib3JkZXJfaWQiLCJtYXRjaCIsInBhcmFtcyIsInN0b3JlX2lkIiwiY3VycmVudFN0b3JlIiwiaWQiLCJnZXRDdXJyZW50T3JkZXIiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJyZWZyZXNoQ3VycmVudE9yZGVyIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwicm9sZXMiLCJuYW1lIiwiY3VycmVudE9yZGVyIiwicHJvdmlkZXJfbm90ZXMiLCJyZXF1ZXN0ZXJfbm90ZXMiLCJpdGVtIiwidHlwZSIsIml0ZW1fdHlwZSIsIml0ZW1zIiwibWFwIiwiYXJyIiwiZmlsdGVyIiwiZWxlbSIsImluZGV4Iiwic2VsZiIsImluZGV4T2YiLCJpdGVtVHlwZXMiLCJyZW1vdmVEdXBsaWNhdGVzIiwiaXRlbVR5cGVzTGlzdCIsInJlZHVjZSIsIm5ld0xpc3QiLCJmaWx0ZXJlZEl0ZW1zIiwibGVuZ3RoIiwibmV3VmFsdWUiLCJwdXNoIiwiYWx0ZXJhdGlvbiIsInJlbmRlckFsdCIsInJlbmRlckFsdGVyYXRpb24iLCJzb3J0SXRlbXNCeVR5cGUiLCJpdGVtVHlwZSIsImltYWdlIiwiZ2V0SW1hZ2VGb3JJdGVtVHlwZSIsImFsdGVyYXRpb25zIiwicGFydHlfbm90ZXMiLCJ0aXRsZSIsInNldFN0YXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImtleSIsImRhdGEiLCJvcmRlciIsInVwZGF0ZU9yZGVyIiwicm9sZSIsInByb21wdCIsInBhcnR5IiwiZSIsInN1Ym1pdE5vdGVzIiwidXBkYXRlTm90ZXMiLCJ0YXJnZXQiLCJ2YWx1ZSIsImFycml2ZWQiLCJjaGVja09yZGVySW4iLCJmdWxmaWxsZWQiLCJ0aGVuIiwiZnVsZmlsbE9yZGVyIiwic2hpcG1lbnQiLCJzaGlwcGluZ1R5cGUiLCJwcmludFByb21wdCIsInNwbGl0IiwidXJsIiwic2hpcHBpbmdfbGFiZWwiLCJ3aW5kb3ciLCJwcmludCIsIm1ha2VTaGlwcGluZ0xhYmVsIiwib3JkZXJFZGl0UGF0aCIsInNob3dIaWRlTm90ZXNGb3JtIiwibm90ZXNGb3JtIiwicmVuZGVyQXJyaXZlZEJ1dHRvbiIsInJlbmRlckZ1bGZpbGxCdXR0b24iLCJyZW5kZXJQcmludExhYmVscyIsInJlbmRlckxpc3QiLCJvcmRlck5vdGVzIiwiZWRpdENvbXBvbmVudHMiLCJib29sZWFuIiwic2hvd0hpZGVEZWF0aWxzT3JDdXN0b21lck1lYXN1cmVtZW50c0J1dHRvbiIsImN1c3RvbWVyIiwiaGVhZGVyVGV4dCIsImN1c3RvbWVyUm91dGUiLCJtYWluQ29udGVudCIsInJlbmRlck9yZGVyRGV0YWlscyIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJyZW5kZXJFZGl0T3JkZXIiLCJyZW5kZXJEZXRhaWxzT3JNZWFzdXJlbWVudHNidXR0b24iLCJtYXBTdGF0ZVRvUHJvcHMiLCJzdG9yZSIsIm9wZW5PcmRlcnMiLCJzdG9yZU9yZGVycyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFRQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7SUFFTUEsVTs7O0FBQ0osc0JBQVlDLEtBQVosRUFBa0I7QUFBQTs7QUFBQTs7QUFFaEIsVUFBS0MsS0FBTCxHQUFhO0FBQ1hDLGFBQU8sRUFESTtBQUVYQyx3QkFBa0IsS0FGUDtBQUdYQyx3QkFBa0I7QUFIUCxLQUFiO0FBRmdCO0FBT2pCOzs7OzBDQUVvQjtBQUFBLFVBQ1hDLFFBRFcsR0FD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SDtBQUVHLGlCQUFLbUIsaUNBQUwsQ0FBdUMsS0FBS3RHLEtBQUwsQ0FBV2lCLFdBQVgsQ0FBdUJDLElBQXZCLENBQTRCQyxLQUE1QixDQUFrQyxDQUFsQyxFQUFxQ0MsSUFBNUUsRUFBa0YsS0FBS25CLEtBQXZGLENBRkg7QUFJSWdHO0FBSko7QUFGRixTQURGO0FBWUQsT0FmRCxNQWVPO0FBQ0w7QUFDQSxlQUNFO0FBQUE7QUFBQTtBQUNFLG1FQUFlLE1BQU1GLFVBQXJCLEdBREY7QUFFRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkYsU0FERjtBQU1EO0FBQ0Y7Ozs7OztBQUdILElBQU1RLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ0MsS0FBRCxFQUFXO0FBQ2pDLFNBQU87QUFDTHZGLGlCQUFhdUYsTUFBTXZGLFdBRGQ7QUFFTFIsa0JBQWMrRixNQUFNL0YsWUFGZjtBQUdMZ0csZ0JBQVlELE1BQU1FLFdBSGI7QUFJTHJGLGtCQUFjbUYsTUFBTW5GO0FBSmYsR0FBUDtBQU1ELENBUEQ7O0FBU0EsSUFBTXNGLHFCQUFxQixTQUFyQkEsa0JBQXFCLENBQUNDLFFBQUQsRUFBYztBQUN2QyxTQUFPLCtCQUFtQixFQUFDakcseUNBQUQsRUFBa0JpRCxpQ0FBbEIsRUFBbkIsRUFBbURnRCxRQUFuRCxDQUFQO0FBQ0QsQ0FGRDs7a0JBSWUseUJBQVFMLGVBQVIsRUFBeUJJLGtCQUF6QixFQUE2QzVHLFVBQTdDLEMiLCJmaWxlIjoiNDU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50T3JkZXIsIHVwZGF0ZU9yZGVyLCBjcmVhdGVTaGlwbWVudCB9IGZyb20gJy4uLy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgZ2V0U2hpcHBpbmdUeXBlLFxuICBnZXRQcmludEJ1dHRvblByb21wdCxcbiAgbG93ZXJDYXNlRmlyc3RMZXR0ZXIsXG4gIHRvU25ha2VDYXNlRnJvbUNhbWVsQ2FzZSxcbiAgbWFrZVNoaXBwaW5nTGFiZWwsXG4gIHJlbmRlclByaW50TGFiZWxzXG59IGZyb20gJy4uLy4uL3NoaXBwaW5nL3NoaXBwaW5nRnVuY3Rpb25zJztcbmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JztcbmltcG9ydCBTZWN0aW9uSGVhZGVyIGZyb20gJy4uLy4uL1NlY3Rpb25IZWFkZXInO1xuaW1wb3J0IHNoaXJ0SW1hZ2UgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3NoaXJ0LnBuZyc7XG5pbXBvcnQgcGFudHNJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvcGFudHMucG5nJztcbmltcG9ydCB0aWVJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvdGllLnBuZyc7XG5pbXBvcnQgZHJlc3NJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvZHJlc3MucG5nJztcbmltcG9ydCBzdWl0SmFja2V0SW1hZ2UgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3N1aXQtamFja2V0LnBuZyc7XG5pbXBvcnQgc3VwcGxpZXNJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvc3VwcGxpZXMucG5nJztcbmltcG9ydCBNZWFzdXJlbWVudHMgZnJvbSAnLi9tZWFzdXJlbWVudHMvTWVhc3VyZW1lbnRzJztcbmltcG9ydCBPcmRlckNvbXBsZXRlIGZyb20gJy4uLy4uL3ByaW50cy9PcmRlckNvbXBsZXRlLmpzJztcblxuY2xhc3MgT3JkZXJzU2hvdyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBub3RlczogJycsXG4gICAgICBkaXNwbGF5Tm90ZXNGb3JtOiBmYWxzZSxcbiAgICAgIHNob3dNZWFzdXJlbWVudHM6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaEN1cnJlbnRPcmRlcigpe1xuICAgIGNvbnN0IHsgb3JkZXJfaWQgfSA9IHRoaXMucHJvcHMubWF0Y2gucGFyYW1zO1xuICAgIGNvbnN0IHN0b3JlX2lkID0gdGhpcy5wcm9wcy5jdXJyZW50U3RvcmUuaWQ7XG4gICAgY29uc3QgeyBnZXRDdXJyZW50T3JkZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgZ2V0Q3VycmVudE9yZGVyKHN0b3JlX2lkLCBvcmRlcl9pZClcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIHRoaXMucmVmcmVzaEN1cnJlbnRPcmRlcigpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVW5tb3VudCgpe1xuICAgIGNvbnNvbGUubG9nKCdcXG5cXG5cXG5cXG5jb21wb25lbnQgZGlkIHVubW91bnQhJylcbiAgfVxuXG4gIHNldE5vdGVzKHByb3BzKXtcbiAgICBpZiAocHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lID09PSAndGFpbG9yJyl7XG4gICAgICByZXR1cm4gcHJvcHMuY3VycmVudE9yZGVyLnByb3ZpZGVyX25vdGVzO1xuICAgIH0gZWxzZSBpZiAocHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lID09PSAnYWRtaW4nKXtcbiAgICAgIHJldHVybiBwcm9wcy5jdXJyZW50T3JkZXIucmVxdWVzdGVyX25vdGVzO1xuICAgIH1cbiAgfVxuXG4gIGZpbHRlckJ5SXRlbVR5cGUoaXRlbSwgdHlwZSl7XG4gICAgcmV0dXJuIGl0ZW0uaXRlbV90eXBlLm5hbWUgPT0gdHlwZS5uYW1lO1xuICB9XG5cbiAgaXRlbVR5cGVzTGlzdCgpe1xuICAgIHJldHVybiB0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5pdGVtcy5tYXAoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5pdGVtX3R5cGUubmFtZVxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlRHVwbGljYXRlcyhhcnIpe1xuICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uKGVsZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgICByZXR1cm4gaW5kZXggPT0gc2VsZi5pbmRleE9mKGVsZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgc29ydEl0ZW1zQnlUeXBlKCl7XG4gICAgY29uc3QgeyBpdGVtcyB9ID0gdGhpcy5wcm9wcy5jdXJyZW50T3JkZXI7XG4gICAgY29uc3QgaXRlbVR5cGVzID0gdGhpcy5yZW1vdmVEdXBsaWNhdGVzKHRoaXMuaXRlbVR5cGVzTGlzdCgpKTtcbiAgICByZXR1cm4gaXRlbVR5cGVzLnJlZHVjZSgobmV3TGlzdCwgdHlwZSk9PiB7XG4gICAgICBjb25zdCBmaWx0ZXJlZEl0ZW1zID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gaXRlbS5pdGVtX3R5cGUubmFtZSA9PSB0eXBlO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChmaWx0ZXJlZEl0ZW1zLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHsgbmFtZTogdHlwZSwgZmlsdGVyZWRJdGVtcyB9O1xuICAgICAgICBuZXdMaXN0LnB1c2gobmV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0xpc3Q7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgcmVuZGVyQWx0ZXJhdGlvbihhbHRlcmF0aW9uLCBpbmRleCl7XG4gICAgcmV0dXJuIDxsaSBrZXk9e2luZGV4fT57YWx0ZXJhdGlvbi5uYW1lfTwvbGk+O1xuICB9XG5cbiAgLy8gcmVuZGVySXRlbShpdGVtLCBpbmRleCl7XG4gIC8vICAgY29uc3QgcmVuZGVyQWx0ID0gdGhpcy5yZW5kZXJBbHRlcmF0aW9uO1xuICAvL1xuICAvLyAgIHJldHVybiAoXG4gIC8vICAgICA8bGkgY2xhc3NOYW1lPSd0eXBlLWxpc3QnIGtleT17aW5kZXh9PlxuICAvLyAgICAgIHsgaXRlbS5pdGVtX3R5cGUubmFtZSB9ICN7aW5kZXggKyAxfVxuICAvLyAgICAgIDx1bD5cbiAgLy8gICAgICAgIHsgaXRlbS5hbHRlcmF0aW9ucy5tYXAocmVuZGVyQWx0KX1cbiAgLy8gICAgICA8L3VsPlxuICAvLyAgICAgPC9saT5cbiAgLy8gICApXG4gIC8vIH1cblxuICBnZXRJbWFnZUZvckl0ZW1UeXBlKG5hbWUpe1xuICAgIHN3aXRjaCAobmFtZSl7XG4gICAgICBjYXNlICdQYW50cyc6XG4gICAgICAgIHJldHVybiBwYW50c0ltYWdlO1xuICAgICAgY2FzZSAnU2hpcnQnOlxuICAgICAgICByZXR1cm4gc2hpcnRJbWFnZTtcbiAgICAgIGNhc2UgJ0RyZXNzJzpcbiAgICAgICAgcmV0dXJuIGRyZXNzSW1hZ2U7XG4gICAgICBjYXNlICdKYWNrZXQnOlxuICAgICAgICByZXR1cm4gc3VpdEphY2tldEltYWdlO1xuICAgICAgY2FzZSAnVGllJzpcbiAgICAgICAgcmV0dXJuIHRpZUltYWdlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN1cHBsaWVzSW1hZ2U7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyTGlzdCgpIHtcbiAgICBjb25zdCByZW5kZXJBbHQgPSB0aGlzLnJlbmRlckFsdGVyYXRpb247XG4gICAgcmV0dXJuIHRoaXMuc29ydEl0ZW1zQnlUeXBlKCkubWFwKChpdGVtVHlwZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZUZvckl0ZW1UeXBlKGl0ZW1UeXBlLm5hbWUpO1xuICAgICAgcmV0dXJuIGl0ZW1UeXBlLmZpbHRlcmVkSXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjYXJkJyBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0eXBlLWhlYWRpbmcnPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT0naXRlbS10eXBlLWltYWdlJyBzcmM9e2ltYWdlfSBhbHQ9e2l0ZW1UeXBlLm5hbWV9IC8+XG4gICAgICAgICAgICAgIDxoMz57IGl0ZW0uaXRlbV90eXBlLm5hbWUgfSAje2luZGV4ICsgMX08L2gzPlxuICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgeyBpdGVtLmFsdGVyYXRpb25zLm1hcChyZW5kZXJBbHQpfVxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgb3JkZXJOb3RlcyhwYXJ0eV9ub3Rlcyl7XG4gICAgY29uc3Qgbm90ZXMgPSB0aGlzLnByb3BzLmN1cnJlbnRPcmRlcltwYXJ0eV9ub3Rlc10gfHwgJ04vQSc7XG4gICAgY29uc3QgdGl0bGUgPSBwYXJ0eV9ub3RlcyA9PT0gJ3Byb3ZpZGVyX25vdGVzJyA/ICdUYWlsb3IgTm90ZXM6JyA6ICdPcmRlciBOb3RlczonO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDM+e3RpdGxlfTwvaDM+XG4gICAgICAgIDxwIGNsYXNzTmFtZT0nbm90ZXMnPntub3Rlc308L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgdXBkYXRlTm90ZXMobm90ZXMpe1xuICAgIHRoaXMuc2V0U3RhdGUoe25vdGVzfSk7XG4gIH1cblxuICBzdWJtaXROb3RlcyhldmVudCl7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnByb3BzLmN1cnJlbnRVc2VyLnVzZXIucm9sZXNbMF0ubmFtZSA9PT0gJ3RhaWxvcicgPyAncHJvdmlkZXJfbm90ZXMnIDogJ3JlcXVlc3Rlcl9ub3Rlcyc7XG4gICAgY29uc3QgZGF0YSA9IHsgb3JkZXI6IHtba2V5XTogdGhpcy5zdGF0ZS5ub3RlcywgaWQ6IHRoaXMucHJvcHMuY3VycmVudE9yZGVyLmlkLCBzdG9yZV9pZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuc3RvcmVfaWQgfX07XG4gICAgdGhpcy5wcm9wcy51cGRhdGVPcmRlcihkYXRhKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIG5vdGVzRm9ybSgpe1xuICAgIGlmICh0aGlzLnN0YXRlLmRpc3BsYXlOb3Rlc0Zvcm0pe1xuICAgICAgY29uc3Qgcm9sZSA9IHRoaXMucHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lO1xuICAgICAgbGV0IHByb21wdDtcbiAgICAgIGxldCBwYXJ0eTtcblxuICAgICAgaWYgKHJvbGUgPT09ICd0YWlsb3InKXtcbiAgICAgICAgcHJvbXB0ID0gJ0FkZCBUYWlsb3IgTm90ZXM/J1xuICAgICAgICBwYXJ0eSA9ICdwcm92aWRlcl9ub3Rlcyc7XG4gICAgICB9IGVsc2UgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgcHJvbXB0ID0gJ0FkZCBBZG1pbiBOb3Rlcz8nXG4gICAgICAgIHBhcnR5ID0gJ3JlcXVlc3Rlcl9ub3Rlcyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxmb3JtIGNsYXNzTmFtZT0nbm90ZXMtZm9ybScgb25TdWJtaXQ9eyhlKSA9PiB0aGlzLnN1Ym1pdE5vdGVzKGUpfT5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgIDxoMz57IHByb21wdCB9PC9oMz5cbiAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgY29scz17NDN9IHJvd3M9ezEwfVxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMucHJvcHMuY3VycmVudE9yZGVyW3BhcnR5XX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnVwZGF0ZU5vdGVzKGUudGFyZ2V0LnZhbHVlKSB9PlxuICAgICAgICAgICAgPC90ZXh0YXJlYT5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxiciAvPlxuICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9J3Nob3J0LWJ1dHRvbicgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIgLz5cbiAgICAgICAgICA8aHIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXY+PC9kaXY+O1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrT3JkZXJJbigpe1xuICAgIGNvbnN0IGRhdGEgPSB7IG9yZGVyOiB7aWQ6IHRoaXMucHJvcHMuY3VycmVudE9yZGVyLmlkLCBzdG9yZV9pZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuc3RvcmVfaWQsIGFycml2ZWQ6IHRydWUgfX07XG4gICAgdGhpcy5wcm9wcy51cGRhdGVPcmRlcihkYXRhKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHJlbmRlckFycml2ZWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5hcnJpdmVkKXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLmNoZWNrT3JkZXJJbigpfSBjbGFzc05hbWU9J3BpbmstYnV0dG9uJz5cbiAgICAgICAgICAgIENoZWNrIE9yZGVyIEluXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdWxmaWxsT3JkZXIoKXtcbiAgICBjb25zdCBkYXRhID0geyBvcmRlcjoge2lkOiB0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5pZCwgc3RvcmVfaWQ6IHRoaXMucHJvcHMuY3VycmVudE9yZGVyLnN0b3JlX2lkLCBmdWxmaWxsZWQ6IHRydWUgfX07XG4gICAgdGhpcy5wcm9wcy51cGRhdGVPcmRlcihkYXRhKVxuICAgICAgLnRoZW4ocmVzID0+IHRoaXMucmVmcmVzaEN1cnJlbnRPcmRlcigpKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHJlbmRlckZ1bGZpbGxCdXR0b24oKXtcbiAgICBjb25zdCB7YXJyaXZlZCwgZnVsZmlsbGVkfSA9IHRoaXMucHJvcHMuY3VycmVudE9yZGVyO1xuICAgIGlmIChhcnJpdmVkICYmICFmdWxmaWxsZWQpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMuZnVsZmlsbE9yZGVyKCl9IGNsYXNzTmFtZT0ncGluay1idXR0b24nPlxuICAgICAgICAgICAgRnVsZmlsbCBUaGlzIE9yZGVyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGFycml2ZWQgJiYgZnVsZmlsbGVkKXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3BpbmstYnV0dG9uJyBkaXNhYmxlZD17dHJ1ZX0+XG4gICAgICAgICAgICBPcmRlciBDb21wbGV0ZWQg4pyU77iPXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBzaG93SGlkZU5vdGVzRm9ybSgpe1xuICAgIGNvbnN0IHZhbHVlID0gIXRoaXMuc3RhdGUuZGlzcGxheU5vdGVzRm9ybTtcbiAgICB0aGlzLnNldFN0YXRlKHsgZGlzcGxheU5vdGVzRm9ybTogdmFsdWUgfSk7XG4gIH1cblxuICBtYWtlU2hpcHBpbmdMYWJlbCh0eXBlKXtcbiAgICBjb25zdCBkYXRhID0geyBzaGlwbWVudDogeyB0eXBlLCBvcmRlcl9pZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuaWQgfX07XG4gICAgY3JlYXRlU2hpcG1lbnQoZGF0YSlcbiAgICAgIC50aGVuKHJlcyA9PiB0aGlzLnJlZnJlc2hDdXJyZW50T3JkZXIoKSlcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cblxuICByZW5kZXJQcmludExhYmVscygpe1xuICAgIGNvbnN0IHsgY3VycmVudFVzZXIsIGN1cnJlbnRPcmRlciB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCByb2xlID0gY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lO1xuICAgIGNvbnN0IHNoaXBwaW5nVHlwZSA9IGdldFNoaXBwaW5nVHlwZShyb2xlLCBjdXJyZW50T3JkZXIudHlwZSk7XG4gICAgY29uc3QgcHJpbnRQcm9tcHQgPSBnZXRQcmludEJ1dHRvblByb21wdChzaGlwcGluZ1R5cGUsIGN1cnJlbnRPcmRlcik7XG5cblxuICAgIGlmIChwcmludFByb21wdC5zcGxpdCgnICcpWzBdID09PSBcIlByaW50XCIpe1xuICAgICAgY29uc3QgdXJsID0gY3VycmVudE9yZGVyW3RvU25ha2VDYXNlRnJvbUNhbWVsQ2FzZShsb3dlckNhc2VGaXJzdExldHRlcihzaGlwcGluZ1R5cGUpKV0uc2hpcHBpbmdfbGFiZWw7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3BpbmstYnV0dG9uJyBvbkNsaWNrPXsoKSA9PiB3aW5kb3cucHJpbnQoKX0+XG4gICAgICAgICAgICB7cHJpbnRQcm9tcHR9XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8T3JkZXJDb21wbGV0ZSBzaGlwcGluZ1R5cGU9e3NoaXBwaW5nVHlwZX0vPlxuICAgICAgICAgIHsvKiA8T3JkZXJDb21wbGV0ZSBvcmRlcj17Y3VycmVudE9yZGVyfSBzaGlwcGluZ1R5cGU9e3NoaXBwaW5nVHlwZX0gLz4gKi99XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAocHJpbnRQcm9tcHQuc3BsaXQoJyAnKVswXSA9PT0gJ0NyZWF0ZScpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3BpbmstYnV0dG9uJyBvbkNsaWNrPXsoKSA9PiB0aGlzLm1ha2VTaGlwcGluZ0xhYmVsKHNoaXBwaW5nVHlwZSl9PlxuICAgICAgICAgIHtwcmludFByb21wdH1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckVkaXRPcmRlcihyb2xlLCBvcmRlckVkaXRQYXRoKXtcbiAgICBpZiAocm9sZSA9PT0gJ2FkbWluJyl7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxMaW5rIHRvPXtvcmRlckVkaXRQYXRofT5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9J3Nob3J0LWJ1dHRvbicgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiRWRpdCBPcmRlclwiIC8+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBlZGl0Q29tcG9uZW50cygpe1xuICAgIGlmICh0aGlzLnByb3BzLmN1cnJlbnRVc2VyLnVzZXIucm9sZXNbMF0ubmFtZSAhPSAncmV0YWlsZXInKXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3BpbmstYnV0dG9uJyBvbkNsaWNrPXsoKSA9PiB0aGlzLnNob3dIaWRlTm90ZXNGb3JtKCl9Pnt0aGlzLnN0YXRlLmRpc3BsYXlOb3Rlc0Zvcm0gPyAnSGlkZScgOiAnQWRkIE5vdGVzJ308L2J1dHRvbj5cbiAgICAgICAgICB7IHRoaXMubm90ZXNGb3JtKCkgfVxuICAgICAgICAgIHsgdGhpcy5yZW5kZXJBcnJpdmVkQnV0dG9uKCkgfVxuICAgICAgICAgIHsgdGhpcy5yZW5kZXJGdWxmaWxsQnV0dG9uKCkgfVxuICAgICAgICAgIHsgdGhpcy5yZW5kZXJQcmludExhYmVscygpIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8ZGl2PjwvZGl2PlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlck9yZGVyRGV0YWlscygpe1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7IHRoaXMucmVuZGVyTGlzdCgpIH1cbiAgICAgICAgeyB0aGlzLm9yZGVyTm90ZXMoJ3JlcXVlc3Rlcl9ub3RlcycpIH1cbiAgICAgICAgeyB0aGlzLm9yZGVyTm90ZXMoJ3Byb3ZpZGVyX25vdGVzJykgfVxuICAgICAgICB7IHRoaXMuZWRpdENvbXBvbmVudHMoKSB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgc2hvd0hpZGVEZWF0aWxzT3JDdXN0b21lck1lYXN1cmVtZW50c0J1dHRvbihib29sZWFuKXtcbiAgICBjb25zdCB2YWx1ZSA9ICFib29sZWFuO1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dNZWFzdXJlbWVudHM6IHZhbHVlfSk7XG4gIH1cblxuICByZW5kZXJEZXRhaWxzT3JNZWFzdXJlbWVudHNidXR0b24ocm9sZSwgc3RhdGUpe1xuICAgIGlmIChyb2xlICE9ICdyZXRhaWxlcicpe1xuICAgICAgY29uc3Qge3Nob3dNZWFzdXJlbWVudHN9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2hvd01lYXN1cmVtZW50cyA/ICdTZWUgT3JkZXIgRGV0YWlscycgOiAnU2VlIE1lYXN1cmVtZW50cyc7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPSdzdWJtaXQnXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIGNsYXNzTmFtZT0nc2hvcnQtYnV0dG9uJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2hvd0hpZGVEZWF0aWxzT3JDdXN0b21lck1lYXN1cmVtZW50c0J1dHRvbihzaG93TWVhc3VyZW1lbnRzKX0vPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPGRpdj48L2Rpdj5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKXtcbiAgICBjb25zdCB7IGN1cnJlbnRTdG9yZSwgY3VycmVudE9yZGVyfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBjdXN0b21lciB9ID0gY3VycmVudE9yZGVyO1xuICAgIGNvbnN0IG9yZGVyRWRpdFBhdGggPSBgL29yZGVycy8ke2N1cnJlbnRPcmRlci5pZH0vZWRpdGA7XG4gICAgY29uc3QgaGVhZGVyVGV4dD1gT3JkZXJzIC8gJHtjdXJyZW50U3RvcmUubmFtZX0gLyAjJHtjdXJyZW50T3JkZXIuaWR9YDtcblxuICAgIGlmICghaXNFbXB0eShjdXJyZW50T3JkZXIpKXtcbiAgICAgIGNvbnN0IGN1c3RvbWVyUm91dGUgPSBgL2N1c3RvbWVycy8ke2N1c3RvbWVyLmlkfS9lZGl0YDtcbiAgICAgIGNvbnN0IG1haW5Db250ZW50ID0gIXRoaXMuc3RhdGUuc2hvd01lYXN1cmVtZW50cyA/IHRoaXMucmVuZGVyT3JkZXJEZXRhaWxzKCkgOiA8TWVhc3VyZW1lbnRzIGN1c3RvbWVyPXtjdXN0b21lcn0vPjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFNlY3Rpb25IZWFkZXIgdGV4dD17aGVhZGVyVGV4dH0gbGlua1RvPXtjdXN0b21lclJvdXRlfSBsaW5rVGV4dD17IGN1c3RvbWVyLmZpcnN0X25hbWUgKyAnICcgKyBjdXN0b21lci5sYXN0X25hbWV9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J29yZGVyLXNob3cnPlxuICAgICAgICAgICB7IHRoaXMucmVuZGVyRWRpdE9yZGVyKHRoaXMucHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lLCBvcmRlckVkaXRQYXRoKSB9XG4gICAgICAgICAgIHsgdGhpcy5yZW5kZXJEZXRhaWxzT3JNZWFzdXJlbWVudHNidXR0b24odGhpcy5wcm9wcy5jdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWUsIHRoaXMuc3RhdGUpIH1cblxuICAgICAgICAgICAgeyBtYWluQ29udGVudCB9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2RlYnVnZ2VyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8U2VjdGlvbkhlYWRlciB0ZXh0PXtoZWFkZXJUZXh0fSAvPlxuICAgICAgICAgIDxkaXY+TG9hZGluZy4uPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0b3JlKSA9PiB7XG4gIHJldHVybiB7XG4gICAgY3VycmVudFVzZXI6IHN0b3JlLmN1cnJlbnRVc2VyLFxuICAgIGN1cnJlbnRTdG9yZTogc3RvcmUuY3VycmVudFN0b3JlLFxuICAgIG9wZW5PcmRlcnM6IHN0b3JlLnN0b3JlT3JkZXJzLFxuICAgIGN1cnJlbnRPcmRlcjogc3RvcmUuY3VycmVudE9yZGVyXG4gIH1cbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoKSA9PiB7XG4gIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcnMoe2dldEN1cnJlbnRPcmRlciwgdXBkYXRlT3JkZXJ9LCBkaXNwYXRjaCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKE9yZGVyc1Nob3cpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2xpZW50L2NvbXBvbmVudHMvb3JkZXJzL3Nob3cvT3JkZXJzU2hvdy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

})