webpackHotUpdate(0,{

/***/ 458:
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(5), RootInstanceProvider = __webpack_require__(6), ReactMount = __webpack_require__(4), React = __webpack_require__(0); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(11);\n\nvar _redux = __webpack_require__(12);\n\nvar _reactRouterDom = __webpack_require__(16);\n\nvar _actions = __webpack_require__(13);\n\nvar _shippingFunctions = __webpack_require__(248);\n\nvar _isEmpty = __webpack_require__(48);\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _SectionHeader = __webpack_require__(26);\n\nvar _SectionHeader2 = _interopRequireDefault(_SectionHeader);\n\nvar _shirt = __webpack_require__(270);\n\nvar _shirt2 = _interopRequireDefault(_shirt);\n\nvar _pants = __webpack_require__(268);\n\nvar _pants2 = _interopRequireDefault(_pants);\n\nvar _tie = __webpack_require__(272);\n\nvar _tie2 = _interopRequireDefault(_tie);\n\nvar _dress = __webpack_require__(265);\n\nvar _dress2 = _interopRequireDefault(_dress);\n\nvar _suitJacket = __webpack_require__(271);\n\nvar _suitJacket2 = _interopRequireDefault(_suitJacket);\n\nvar _supplies = __webpack_require__(553);\n\nvar _supplies2 = _interopRequireDefault(_supplies);\n\nvar _Measurements = __webpack_require__(460);\n\nvar _Measurements2 = _interopRequireDefault(_Measurements);\n\nvar _OrderComplete = __webpack_require__(84);\n\nvar _OrderComplete2 = _interopRequireDefault(_OrderComplete);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OrdersShow = function (_Component) {\n  _inherits(OrdersShow, _Component);\n\n  function OrdersShow(props) {\n    _classCallCheck(this, OrdersShow);\n\n    var _this = _possibleConstructorReturn(this, (OrdersShow.__proto__ || Object.getPrototypeOf(OrdersShow)).call(this));\n\n    _this.state = {\n      notes: '',\n      displayNotesForm: false,\n      showMeasurements: false\n    };\n    return _this;\n  }\n\n  _createClass(OrdersShow, [{\n    key: 'refreshCurrentOrder',\n    value: function refreshCurrentOrder() {\n      var order_id = this.props.match.params.order_id;\n\n      var store_id = this.props.currentStore.id;\n      var getCurrentOrder = this.props.getCurrentOrder;\n\n      getCurrentOrder(store_id, order_id).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.refreshCurrentOrder();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      console.log('\\n\\n\\n\\ncomponent did unmount!\\n\\n\\n!!!!!!!!!!');\n    }\n  }, {\n    key: 'setNotes',\n    value: function setNotes(props) {\n      if (props.currentUser.user.roles[0].name === 'tailor') {\n        return props.currentOrder.provider_notes;\n      } else if (props.currentUser.user.roles[0].name === 'admin') {\n        return props.currentOrder.requester_notes;\n      }\n    }\n  }, {\n    key: 'filterByItemType',\n    value: function filterByItemType(item, type) {\n      return item.item_type.name == type.name;\n    }\n  }, {\n    key: 'itemTypesList',\n    value: function itemTypesList() {\n      return this.props.currentOrder.items.map(function (item) {\n        return item.item_type.name;\n      });\n    }\n  }, {\n    key: 'removeDuplicates',\n    value: function removeDuplicates(arr) {\n      return arr.filter(function (elem, index, self) {\n        return index == self.indexOf(elem);\n      });\n    }\n  }, {\n    key: 'sortItemsByType',\n    value: function sortItemsByType() {\n      var items = this.props.currentOrder.items;\n\n      var itemTypes = this.removeDuplicates(this.itemTypesList());\n      return itemTypes.reduce(function (newList, type) {\n        var filteredItems = items.filter(function (item) {\n          return item.item_type.name == type;\n        });\n\n        if (filteredItems.length > 0) {\n          var newValue = { name: type, filteredItems: filteredItems };\n          newList.push(newValue);\n        }\n        return newList;\n      }, []);\n    }\n  }, {\n    key: 'renderAlteration',\n    value: function renderAlteration(alteration, index) {\n      return _react2.default.createElement(\n        'li',\n        { key: index },\n        alteration.name\n      );\n    }\n\n    // renderItem(item, index){\n    //   const renderAlt = this.renderAlteration;\n    //\n    //   return (\n    //     <li className='type-list' key={index}>\n    //      { item.item_type.name } #{index + 1}\n    //      <ul>\n    //        { item.alterations.map(renderAlt)}\n    //      </ul>\n    //     </li>\n    //   )\n    // }\n\n  }, {\n    key: 'getImageForItemType',\n    value: function getImageForItemType(name) {\n      switch (name) {\n        case 'Pants':\n          return _pants2.default;\n        case 'Shirt':\n          return _shirt2.default;\n        case 'Dress':\n          return _dress2.default;\n        case 'Jacket':\n          return _suitJacket2.default;\n        case 'Tie':\n          return _tie2.default;\n        default:\n          return _supplies2.default;\n      }\n    }\n  }, {\n    key: 'renderList',\n    value: function renderList() {\n      var _this2 = this;\n\n      var renderAlt = this.renderAlteration;\n      return this.sortItemsByType().map(function (itemType, index) {\n        var image = _this2.getImageForItemType(itemType.name);\n        return itemType.filteredItems.map(function (item, index) {\n          return _react2.default.createElement(\n            'div',\n            { className: 'card', key: index },\n            _react2.default.createElement(\n              'div',\n              { className: 'type-heading' },\n              _react2.default.createElement('img', { className: 'item-type-image', src: image, alt: itemType.name }),\n              _react2.default.createElement(\n                'h3',\n                null,\n                item.item_type.name,\n                ' #',\n                index + 1\n              ),\n              _react2.default.createElement(\n                'ul',\n                null,\n                item.alterations.map(renderAlt)\n              )\n            )\n          );\n        });\n      });\n    }\n  }, {\n    key: 'orderNotes',\n    value: function orderNotes(party_notes) {\n      var notes = this.props.currentOrder[party_notes] || 'N/A';\n      var title = party_notes === 'provider_notes' ? 'Tailor Notes:' : 'Order Notes:';\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'h3',\n          null,\n          title\n        ),\n        _react2.default.createElement(\n          'p',\n          { className: 'notes' },\n          notes\n        )\n      );\n    }\n  }, {\n    key: 'updateNotes',\n    value: function updateNotes(notes) {\n      this.setState({ notes: notes });\n    }\n  }, {\n    key: 'submitNotes',\n    value: function submitNotes(event) {\n      var _order;\n\n      event.preventDefault();\n      var key = this.props.currentUser.user.roles[0].name === 'tailor' ? 'provider_notes' : 'requester_notes';\n      var data = { order: (_order = {}, _defineProperty(_order, key, this.state.notes), _defineProperty(_order, 'id', this.props.currentOrder.id), _defineProperty(_order, 'store_id', this.props.currentOrder.store_id), _order) };\n      this.props.updateOrder(data).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'notesForm',\n    value: function notesForm() {\n      var _this3 = this;\n\n      if (this.state.displayNotesForm) {\n        var role = this.props.currentUser.user.roles[0].name;\n        var prompt = void 0;\n        var party = void 0;\n\n        if (role === 'tailor') {\n          prompt = 'Add Tailor Notes?';\n          party = 'provider_notes';\n        } else if (role === 'admin') {\n          prompt = 'Add Admin Notes?';\n          party = 'requester_notes';\n        }\n\n        return _react2.default.createElement(\n          'form',\n          { className: 'notes-form', onSubmit: function onSubmit(e) {\n              return _this3.submitNotes(e);\n            } },\n          _react2.default.createElement(\n            'label',\n            null,\n            _react2.default.createElement(\n              'h3',\n              null,\n              prompt\n            ),\n            _react2.default.createElement('br', null),\n            _react2.default.createElement('textarea', {\n              cols: 43, rows: 10,\n              defaultValue: this.props.currentOrder[party],\n              onChange: function onChange(e) {\n                return _this3.updateNotes(e.target.value);\n              } })\n          ),\n          _react2.default.createElement('br', null),\n          _react2.default.createElement('input', { className: 'short-button', type: 'submit', value: 'Submit' }),\n          _react2.default.createElement('hr', null)\n        );\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'checkOrderIn',\n    value: function checkOrderIn() {\n      var data = { order: { id: this.props.currentOrder.id, store_id: this.props.currentOrder.store_id, arrived: true } };\n      this.props.updateOrder(data).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderArrivedButton',\n    value: function renderArrivedButton() {\n      var _this4 = this;\n\n      if (!this.props.currentOrder.arrived) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { onClick: function onClick() {\n                return _this4.checkOrderIn();\n              }, className: 'pink-button' },\n            'Check Order In'\n          )\n        );\n      }\n    }\n  }, {\n    key: 'fulfillOrder',\n    value: function fulfillOrder() {\n      var _this5 = this;\n\n      var data = { order: { id: this.props.currentOrder.id, store_id: this.props.currentOrder.store_id, fulfilled: true } };\n      this.props.updateOrder(data).then(function (res) {\n        return _this5.refreshCurrentOrder();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderFulfillButton',\n    value: function renderFulfillButton() {\n      var _this6 = this;\n\n      var _props$currentOrder = this.props.currentOrder,\n          arrived = _props$currentOrder.arrived,\n          fulfilled = _props$currentOrder.fulfilled;\n\n      if (arrived && !fulfilled) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { onClick: function onClick() {\n                return _this6.fulfillOrder();\n              }, className: 'pink-button' },\n            'Fulfill This Order'\n          )\n        );\n      } else if (arrived && fulfilled) {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', disabled: true },\n            'Order Completed \\u2714\\uFE0F'\n          )\n        );\n      }\n    }\n  }, {\n    key: 'showHideNotesForm',\n    value: function showHideNotesForm() {\n      var value = !this.state.displayNotesForm;\n      this.setState({ displayNotesForm: value });\n    }\n  }, {\n    key: 'makeShippingLabel',\n    value: function makeShippingLabel(type) {\n      var _this7 = this;\n\n      var data = { shipment: { type: type, order_id: this.props.currentOrder.id } };\n      (0, _actions.createShipment)(data).then(function (res) {\n        return _this7.refreshCurrentOrder();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: 'renderPrintLabels',\n    value: function renderPrintLabels() {\n      var _this8 = this;\n\n      var _props = this.props,\n          currentUser = _props.currentUser,\n          currentOrder = _props.currentOrder;\n\n      var role = currentUser.user.roles[0].name;\n      var shippingType = (0, _shippingFunctions.getShippingType)(role, currentOrder.type);\n      var printPrompt = (0, _shippingFunctions.getPrintButtonPrompt)(shippingType, currentOrder);\n\n      if (printPrompt.split(' ')[0] === \"Print\") {\n        var url = currentOrder[(0, _shippingFunctions.toSnakeCaseFromCamelCase)((0, _shippingFunctions.lowerCaseFirstLetter)(shippingType))].shipping_label;\n\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', onClick: function onClick() {\n                return window.print();\n              } },\n            printPrompt\n          ),\n          _react2.default.createElement(_OrderComplete2.default, { shippingType: shippingType })\n        );\n      } else if (printPrompt.split(' ')[0] === 'Create') {\n        return _react2.default.createElement(\n          'button',\n          { className: 'pink-button', onClick: function onClick() {\n              return _this8.makeShippingLabel(shippingType);\n            } },\n          printPrompt\n        );\n      }\n    }\n  }, {\n    key: 'renderEditOrder',\n    value: function renderEditOrder(role, orderEditPath) {\n      if (role === 'admin') {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { to: orderEditPath },\n            _react2.default.createElement('input', { className: 'short-button', type: 'submit', value: 'Edit Order' })\n          )\n        );\n      }\n    }\n  }, {\n    key: 'editComponents',\n    value: function editComponents() {\n      var _this9 = this;\n\n      if (this.props.currentUser.user.roles[0].name != 'retailer') {\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'button',\n            { className: 'pink-button', onClick: function onClick() {\n                return _this9.showHideNotesForm();\n              } },\n            this.state.displayNotesForm ? 'Hide' : 'Add Notes'\n          ),\n          this.notesForm(),\n          this.renderArrivedButton(),\n          this.renderFulfillButton(),\n          this.renderPrintLabels()\n        );\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'renderOrderDetails',\n    value: function renderOrderDetails() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        this.renderList(),\n        this.orderNotes('requester_notes'),\n        this.orderNotes('provider_notes'),\n        this.editComponents()\n      );\n    }\n  }, {\n    key: 'showHideDeatilsOrCustomerMeasurementsButton',\n    value: function showHideDeatilsOrCustomerMeasurementsButton(boolean) {\n      var value = !boolean;\n      this.setState({ showMeasurements: value });\n    }\n  }, {\n    key: 'renderDetailsOrMeasurementsbutton',\n    value: function renderDetailsOrMeasurementsbutton(role, state) {\n      var _this10 = this;\n\n      if (role != 'retailer') {\n        var showMeasurements = this.state.showMeasurements;\n\n        var value = showMeasurements ? 'See Order Details' : 'See Measurements';\n        return _react2.default.createElement('input', {\n          type: 'submit',\n          value: value,\n          className: 'short-button',\n          onClick: function onClick() {\n            return _this10.showHideDeatilsOrCustomerMeasurementsButton(showMeasurements);\n          } });\n      } else {\n        return _react2.default.createElement('div', null);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          currentStore = _props2.currentStore,\n          currentOrder = _props2.currentOrder;\n      var customer = currentOrder.customer;\n\n      var orderEditPath = '/orders/' + currentOrder.id + '/edit';\n      var headerText = 'Orders / ' + currentStore.name + ' / #' + currentOrder.id;\n\n      if (!(0, _isEmpty2.default)(currentOrder)) {\n        var customerRoute = '/customers/' + customer.id + '/edit';\n        var mainContent = !this.state.showMeasurements ? this.renderOrderDetails() : _react2.default.createElement(_Measurements2.default, { customer: customer });\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SectionHeader2.default, { text: headerText, linkTo: customerRoute, linkText: customer.first_name + ' ' + customer.last_name }),\n          _react2.default.createElement(\n            'div',\n            { className: 'order-show' },\n            this.renderEditOrder(this.props.currentUser.user.roles[0].name, orderEditPath),\n            this.renderDetailsOrMeasurementsbutton(this.props.currentUser.user.roles[0].name, this.state),\n            mainContent\n          )\n        );\n      } else {\n        //debugger;\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SectionHeader2.default, { text: headerText }),\n          _react2.default.createElement(\n            'div',\n            null,\n            'Loading..'\n          )\n        );\n      }\n    }\n  }]);\n\n  return OrdersShow;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.currentUser,\n    currentStore: store.currentStore,\n    openOrders: store.storeOrders,\n    currentOrder: store.currentOrder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return (0, _redux.bindActionCreators)({ getCurrentOrder: _actions.getCurrentOrder, updateOrder: _actions.updateOrder }, dispatch);\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(OrdersShow);\n\n/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(7); if (makeExportsHot(module, __webpack_require__(0))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot apply hot update to \" + \"OrdersShow.js\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9vcmRlcnMvc2hvdy9PcmRlcnNTaG93LmpzPzFkNzEiXSwibmFtZXMiOlsiT3JkZXJzU2hvdyIsInByb3BzIiwic3RhdGUiLCJub3RlcyIsImRpc3BsYXlOb3Rlc0Zvcm0iLCJzaG93TWVhc3VyZW1lbnRzIiwib3JkZXJfaWQiLCJtYXRjaCIsInBhcmFtcyIsInN0b3JlX2lkIiwiY3VycmVudFN0b3JlIiwiaWQiLCJnZXRDdXJyZW50T3JkZXIiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJyZWZyZXNoQ3VycmVudE9yZGVyIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwicm9sZXMiLCJuYW1lIiwiY3VycmVudE9yZGVyIiwicHJvdmlkZXJfbm90ZXMiLCJyZXF1ZXN0ZXJfbm90ZXMiLCJpdGVtIiwidHlwZSIsIml0ZW1fdHlwZSIsIml0ZW1zIiwibWFwIiwiYXJyIiwiZmlsdGVyIiwiZWxlbSIsImluZGV4Iiwic2VsZiIsImluZGV4T2YiLCJpdGVtVHlwZXMiLCJyZW1vdmVEdXBsaWNhdGVzIiwiaXRlbVR5cGVzTGlzdCIsInJlZHVjZSIsIm5ld0xpc3QiLCJmaWx0ZXJlZEl0ZW1zIiwibGVuZ3RoIiwibmV3VmFsdWUiLCJwdXNoIiwiYWx0ZXJhdGlvbiIsInJlbmRlckFsdCIsInJlbmRlckFsdGVyYXRpb24iLCJzb3J0SXRlbXNCeVR5cGUiLCJpdGVtVHlwZSIsImltYWdlIiwiZ2V0SW1hZ2VGb3JJdGVtVHlwZSIsImFsdGVyYXRpb25zIiwicGFydHlfbm90ZXMiLCJ0aXRsZSIsInNldFN0YXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImtleSIsImRhdGEiLCJvcmRlciIsInVwZGF0ZU9yZGVyIiwicm9sZSIsInByb21wdCIsInBhcnR5IiwiZSIsInN1Ym1pdE5vdGVzIiwidXBkYXRlTm90ZXMiLCJ0YXJnZXQiLCJ2YWx1ZSIsImFycml2ZWQiLCJjaGVja09yZGVySW4iLCJmdWxmaWxsZWQiLCJ0aGVuIiwiZnVsZmlsbE9yZGVyIiwic2hpcG1lbnQiLCJzaGlwcGluZ1R5cGUiLCJwcmludFByb21wdCIsInNwbGl0IiwidXJsIiwic2hpcHBpbmdfbGFiZWwiLCJ3aW5kb3ciLCJwcmludCIsIm1ha2VTaGlwcGluZ0xhYmVsIiwib3JkZXJFZGl0UGF0aCIsInNob3dIaWRlTm90ZXNGb3JtIiwibm90ZXNGb3JtIiwicmVuZGVyQXJyaXZlZEJ1dHRvbiIsInJlbmRlckZ1bGZpbGxCdXR0b24iLCJyZW5kZXJQcmludExhYmVscyIsInJlbmRlckxpc3QiLCJvcmRlck5vdGVzIiwiZWRpdENvbXBvbmVudHMiLCJib29sZWFuIiwic2hvd0hpZGVEZWF0aWxzT3JDdXN0b21lck1lYXN1cmVtZW50c0J1dHRvbiIsImN1c3RvbWVyIiwiaGVhZGVyVGV4dCIsImN1c3RvbWVyUm91dGUiLCJtYWluQ29udGVudCIsInJlbmRlck9yZGVyRGV0YWlscyIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJyZW5kZXJFZGl0T3JkZXIiLCJyZW5kZXJEZXRhaWxzT3JNZWFzdXJlbWVudHNidXR0b24iLCJtYXBTdGF0ZVRvUHJvcHMiLCJzdG9yZSIsIm9wZW5PcmRlcnMiLCJzdG9yZU9yZGVycyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFRQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7SUFFTUEsVTs7O0FBQ0osc0JBQVlDLEtBQVosRUFBa0I7QUFBQTs7QUFBQTs7QUFFaEIsVUFBS0MsS0FBTCxHQUFhO0FBQ1hDLGFBQU8sRUFESTtBQUVYQyx3QkFBa0IsS0FGUDtBQUdYQyx3QkFBa0I7QUFIUCxLQUFiO0FBRmdCO0FBT2pCOzs7OzBDQUVvQjtBQUFBLFVBQ1hDLFFBRFcsR0FD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SDtBQUVHLGlCQUFLbUIsaUNBQUwsQ0FBdUMsS0FBS3RHLEtBQUwsQ0FBV2lCLFdBQVgsQ0FBdUJDLElBQXZCLENBQTRCQyxLQUE1QixDQUFrQyxDQUFsQyxFQUFxQ0MsSUFBNUUsRUFBa0YsS0FBS25CLEtBQXZGLENBRkg7QUFJSWdHO0FBSko7QUFGRixTQURGO0FBWUQsT0FmRCxNQWVPO0FBQ0w7QUFDQSxlQUNFO0FBQUE7QUFBQTtBQUNFLG1FQUFlLE1BQU1GLFVBQXJCLEdBREY7QUFFRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkYsU0FERjtBQU1EO0FBQ0Y7Ozs7OztBQUdILElBQU1RLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ0MsS0FBRCxFQUFXO0FBQ2pDLFNBQU87QUFDTHZGLGlCQUFhdUYsTUFBTXZGLFdBRGQ7QUFFTFIsa0JBQWMrRixNQUFNL0YsWUFGZjtBQUdMZ0csZ0JBQVlELE1BQU1FLFdBSGI7QUFJTHJGLGtCQUFjbUYsTUFBTW5GO0FBSmYsR0FBUDtBQU1ELENBUEQ7O0FBU0EsSUFBTXNGLHFCQUFxQixTQUFyQkEsa0JBQXFCLENBQUNDLFFBQUQsRUFBYztBQUN2QyxTQUFPLCtCQUFtQixFQUFDakcseUNBQUQsRUFBa0JpRCxpQ0FBbEIsRUFBbkIsRUFBbURnRCxRQUFuRCxDQUFQO0FBQ0QsQ0FGRDs7a0JBSWUseUJBQVFMLGVBQVIsRUFBeUJJLGtCQUF6QixFQUE2QzVHLFVBQTdDLEMiLCJmaWxlIjoiNDU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50T3JkZXIsIHVwZGF0ZU9yZGVyLCBjcmVhdGVTaGlwbWVudCB9IGZyb20gJy4uLy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgZ2V0U2hpcHBpbmdUeXBlLFxuICBnZXRQcmludEJ1dHRvblByb21wdCxcbiAgbG93ZXJDYXNlRmlyc3RMZXR0ZXIsXG4gIHRvU25ha2VDYXNlRnJvbUNhbWVsQ2FzZSxcbiAgbWFrZVNoaXBwaW5nTGFiZWwsXG4gIHJlbmRlclByaW50TGFiZWxzXG59IGZyb20gJy4uLy4uL3NoaXBwaW5nL3NoaXBwaW5nRnVuY3Rpb25zJztcbmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JztcbmltcG9ydCBTZWN0aW9uSGVhZGVyIGZyb20gJy4uLy4uL1NlY3Rpb25IZWFkZXInO1xuaW1wb3J0IHNoaXJ0SW1hZ2UgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3NoaXJ0LnBuZyc7XG5pbXBvcnQgcGFudHNJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvcGFudHMucG5nJztcbmltcG9ydCB0aWVJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvdGllLnBuZyc7XG5pbXBvcnQgZHJlc3NJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvZHJlc3MucG5nJztcbmltcG9ydCBzdWl0SmFja2V0SW1hZ2UgZnJvbSAnLi4vLi4vLi4vaW1hZ2VzL3N1aXQtamFja2V0LnBuZyc7XG5pbXBvcnQgc3VwcGxpZXNJbWFnZSBmcm9tICcuLi8uLi8uLi9pbWFnZXMvc3VwcGxpZXMucG5nJztcbmltcG9ydCBNZWFzdXJlbWVudHMgZnJvbSAnLi9tZWFzdXJlbWVudHMvTWVhc3VyZW1lbnRzJztcbmltcG9ydCBPcmRlckNvbXBsZXRlIGZyb20gJy4uLy4uL3ByaW50cy9PcmRlckNvbXBsZXRlLmpzJztcblxuY2xhc3MgT3JkZXJzU2hvdyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBub3RlczogJycsXG4gICAgICBkaXNwbGF5Tm90ZXNGb3JtOiBmYWxzZSxcbiAgICAgIHNob3dNZWFzdXJlbWVudHM6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaEN1cnJlbnRPcmRlcigpe1xuICAgIGNvbnN0IHsgb3JkZXJfaWQgfSA9IHRoaXMucHJvcHMubWF0Y2gucGFyYW1zO1xuICAgIGNvbnN0IHN0b3JlX2lkID0gdGhpcy5wcm9wcy5jdXJyZW50U3RvcmUuaWQ7XG4gICAgY29uc3QgeyBnZXRDdXJyZW50T3JkZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgZ2V0Q3VycmVudE9yZGVyKHN0b3JlX2lkLCBvcmRlcl9pZClcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIHRoaXMucmVmcmVzaEN1cnJlbnRPcmRlcigpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKXtcbiAgICBjb25zb2xlLmxvZygnXFxuXFxuXFxuXFxuY29tcG9uZW50IGRpZCB1bm1vdW50IVxcblxcblxcbiEhISEhISEhISEnKVxuICB9XG5cbiAgc2V0Tm90ZXMocHJvcHMpe1xuICAgIGlmIChwcm9wcy5jdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWUgPT09ICd0YWlsb3InKXtcbiAgICAgIHJldHVybiBwcm9wcy5jdXJyZW50T3JkZXIucHJvdmlkZXJfbm90ZXM7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5jdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWUgPT09ICdhZG1pbicpe1xuICAgICAgcmV0dXJuIHByb3BzLmN1cnJlbnRPcmRlci5yZXF1ZXN0ZXJfbm90ZXM7XG4gICAgfVxuICB9XG5cbiAgZmlsdGVyQnlJdGVtVHlwZShpdGVtLCB0eXBlKXtcbiAgICByZXR1cm4gaXRlbS5pdGVtX3R5cGUubmFtZSA9PSB0eXBlLm5hbWU7XG4gIH1cblxuICBpdGVtVHlwZXNMaXN0KCl7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY3VycmVudE9yZGVyLml0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgIHJldHVybiBpdGVtLml0ZW1fdHlwZS5uYW1lXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVEdXBsaWNhdGVzKGFycil7XG4gICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24oZWxlbSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgIHJldHVybiBpbmRleCA9PSBzZWxmLmluZGV4T2YoZWxlbSk7XG4gICAgfSk7XG4gIH1cblxuICBzb3J0SXRlbXNCeVR5cGUoKXtcbiAgICBjb25zdCB7IGl0ZW1zIH0gPSB0aGlzLnByb3BzLmN1cnJlbnRPcmRlcjtcbiAgICBjb25zdCBpdGVtVHlwZXMgPSB0aGlzLnJlbW92ZUR1cGxpY2F0ZXModGhpcy5pdGVtVHlwZXNMaXN0KCkpO1xuICAgIHJldHVybiBpdGVtVHlwZXMucmVkdWNlKChuZXdMaXN0LCB0eXBlKT0+IHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtLml0ZW1fdHlwZS5uYW1lID09IHR5cGU7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZpbHRlcmVkSXRlbXMubGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0geyBuYW1lOiB0eXBlLCBmaWx0ZXJlZEl0ZW1zIH07XG4gICAgICAgIG5ld0xpc3QucHVzaChuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3TGlzdDtcbiAgICB9LCBbXSk7XG4gIH1cblxuICByZW5kZXJBbHRlcmF0aW9uKGFsdGVyYXRpb24sIGluZGV4KXtcbiAgICByZXR1cm4gPGxpIGtleT17aW5kZXh9PnthbHRlcmF0aW9uLm5hbWV9PC9saT47XG4gIH1cblxuICAvLyByZW5kZXJJdGVtKGl0ZW0sIGluZGV4KXtcbiAgLy8gICBjb25zdCByZW5kZXJBbHQgPSB0aGlzLnJlbmRlckFsdGVyYXRpb247XG4gIC8vXG4gIC8vICAgcmV0dXJuIChcbiAgLy8gICAgIDxsaSBjbGFzc05hbWU9J3R5cGUtbGlzdCcga2V5PXtpbmRleH0+XG4gIC8vICAgICAgeyBpdGVtLml0ZW1fdHlwZS5uYW1lIH0gI3tpbmRleCArIDF9XG4gIC8vICAgICAgPHVsPlxuICAvLyAgICAgICAgeyBpdGVtLmFsdGVyYXRpb25zLm1hcChyZW5kZXJBbHQpfVxuICAvLyAgICAgIDwvdWw+XG4gIC8vICAgICA8L2xpPlxuICAvLyAgIClcbiAgLy8gfVxuXG4gIGdldEltYWdlRm9ySXRlbVR5cGUobmFtZSl7XG4gICAgc3dpdGNoIChuYW1lKXtcbiAgICAgIGNhc2UgJ1BhbnRzJzpcbiAgICAgICAgcmV0dXJuIHBhbnRzSW1hZ2U7XG4gICAgICBjYXNlICdTaGlydCc6XG4gICAgICAgIHJldHVybiBzaGlydEltYWdlO1xuICAgICAgY2FzZSAnRHJlc3MnOlxuICAgICAgICByZXR1cm4gZHJlc3NJbWFnZTtcbiAgICAgIGNhc2UgJ0phY2tldCc6XG4gICAgICAgIHJldHVybiBzdWl0SmFja2V0SW1hZ2U7XG4gICAgICBjYXNlICdUaWUnOlxuICAgICAgICByZXR1cm4gdGllSW1hZ2U7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3VwcGxpZXNJbWFnZTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJMaXN0KCkge1xuICAgIGNvbnN0IHJlbmRlckFsdCA9IHRoaXMucmVuZGVyQWx0ZXJhdGlvbjtcbiAgICByZXR1cm4gdGhpcy5zb3J0SXRlbXNCeVR5cGUoKS5tYXAoKGl0ZW1UeXBlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmdldEltYWdlRm9ySXRlbVR5cGUoaXRlbVR5cGUubmFtZSk7XG4gICAgICByZXR1cm4gaXRlbVR5cGUuZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NhcmQnIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3R5cGUtaGVhZGluZyc+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPSdpdGVtLXR5cGUtaW1hZ2UnIHNyYz17aW1hZ2V9IGFsdD17aXRlbVR5cGUubmFtZX0gLz5cbiAgICAgICAgICAgICAgPGgzPnsgaXRlbS5pdGVtX3R5cGUubmFtZSB9ICN7aW5kZXggKyAxfTwvaDM+XG4gICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICB7IGl0ZW0uYWx0ZXJhdGlvbnMubWFwKHJlbmRlckFsdCl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICBvcmRlck5vdGVzKHBhcnR5X25vdGVzKXtcbiAgICBjb25zdCBub3RlcyA9IHRoaXMucHJvcHMuY3VycmVudE9yZGVyW3BhcnR5X25vdGVzXSB8fCAnTi9BJztcbiAgICBjb25zdCB0aXRsZSA9IHBhcnR5X25vdGVzID09PSAncHJvdmlkZXJfbm90ZXMnID8gJ1RhaWxvciBOb3RlczonIDogJ09yZGVyIE5vdGVzOic7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMz57dGl0bGV9PC9oMz5cbiAgICAgICAgPHAgY2xhc3NOYW1lPSdub3Rlcyc+e25vdGVzfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICB1cGRhdGVOb3Rlcyhub3Rlcyl7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bm90ZXN9KTtcbiAgfVxuXG4gIHN1Ym1pdE5vdGVzKGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGtleSA9IHRoaXMucHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lID09PSAndGFpbG9yJyA/ICdwcm92aWRlcl9ub3RlcycgOiAncmVxdWVzdGVyX25vdGVzJztcbiAgICBjb25zdCBkYXRhID0geyBvcmRlcjoge1trZXldOiB0aGlzLnN0YXRlLm5vdGVzLCBpZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuaWQsIHN0b3JlX2lkOiB0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5zdG9yZV9pZCB9fTtcbiAgICB0aGlzLnByb3BzLnVwZGF0ZU9yZGVyKGRhdGEpXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgbm90ZXNGb3JtKCl7XG4gICAgaWYgKHRoaXMuc3RhdGUuZGlzcGxheU5vdGVzRm9ybSl7XG4gICAgICBjb25zdCByb2xlID0gdGhpcy5wcm9wcy5jdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWU7XG4gICAgICBsZXQgcHJvbXB0O1xuICAgICAgbGV0IHBhcnR5O1xuXG4gICAgICBpZiAocm9sZSA9PT0gJ3RhaWxvcicpe1xuICAgICAgICBwcm9tcHQgPSAnQWRkIFRhaWxvciBOb3Rlcz8nXG4gICAgICAgIHBhcnR5ID0gJ3Byb3ZpZGVyX25vdGVzJztcbiAgICAgIH0gZWxzZSBpZiAocm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgICBwcm9tcHQgPSAnQWRkIEFkbWluIE5vdGVzPydcbiAgICAgICAgcGFydHkgPSAncmVxdWVzdGVyX25vdGVzJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGZvcm0gY2xhc3NOYW1lPSdub3Rlcy1mb3JtJyBvblN1Ym1pdD17KGUpID0+IHRoaXMuc3VibWl0Tm90ZXMoZSl9PlxuICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgPGgzPnsgcHJvbXB0IH08L2gzPlxuICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBjb2xzPXs0M30gcm93cz17MTB9XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17dGhpcy5wcm9wcy5jdXJyZW50T3JkZXJbcGFydHldfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMudXBkYXRlTm90ZXMoZS50YXJnZXQudmFsdWUpIH0+XG4gICAgICAgICAgICA8L3RleHRhcmVhPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT0nc2hvcnQtYnV0dG9uJyB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxuICAgICAgICAgIDxociAvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPGRpdj48L2Rpdj47XG4gICAgfVxuICB9XG5cbiAgY2hlY2tPcmRlckluKCl7XG4gICAgY29uc3QgZGF0YSA9IHsgb3JkZXI6IHtpZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuaWQsIHN0b3JlX2lkOiB0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5zdG9yZV9pZCwgYXJyaXZlZDogdHJ1ZSB9fTtcbiAgICB0aGlzLnByb3BzLnVwZGF0ZU9yZGVyKGRhdGEpXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgcmVuZGVyQXJyaXZlZEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuY3VycmVudE9yZGVyLmFycml2ZWQpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMuY2hlY2tPcmRlckluKCl9IGNsYXNzTmFtZT0ncGluay1idXR0b24nPlxuICAgICAgICAgICAgQ2hlY2sgT3JkZXIgSW5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bGZpbGxPcmRlcigpe1xuICAgIGNvbnN0IGRhdGEgPSB7IG9yZGVyOiB7aWQ6IHRoaXMucHJvcHMuY3VycmVudE9yZGVyLmlkLCBzdG9yZV9pZDogdGhpcy5wcm9wcy5jdXJyZW50T3JkZXIuc3RvcmVfaWQsIGZ1bGZpbGxlZDogdHJ1ZSB9fTtcbiAgICB0aGlzLnByb3BzLnVwZGF0ZU9yZGVyKGRhdGEpXG4gICAgICAudGhlbihyZXMgPT4gdGhpcy5yZWZyZXNoQ3VycmVudE9yZGVyKCkpXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9XG5cbiAgcmVuZGVyRnVsZmlsbEJ1dHRvbigpe1xuICAgIGNvbnN0IHthcnJpdmVkLCBmdWxmaWxsZWR9ID0gdGhpcy5wcm9wcy5jdXJyZW50T3JkZXI7XG4gICAgaWYgKGFycml2ZWQgJiYgIWZ1bGZpbGxlZCl7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5mdWxmaWxsT3JkZXIoKX0gY2xhc3NOYW1lPSdwaW5rLWJ1dHRvbic+XG4gICAgICAgICAgICBGdWxmaWxsIFRoaXMgT3JkZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoYXJyaXZlZCAmJiBmdWxmaWxsZWQpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0ncGluay1idXR0b24nIGRpc2FibGVkPXt0cnVlfT5cbiAgICAgICAgICAgIE9yZGVyIENvbXBsZXRlZCDinJTvuI9cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNob3dIaWRlTm90ZXNGb3JtKCl7XG4gICAgY29uc3QgdmFsdWUgPSAhdGhpcy5zdGF0ZS5kaXNwbGF5Tm90ZXNGb3JtO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBkaXNwbGF5Tm90ZXNGb3JtOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIG1ha2VTaGlwcGluZ0xhYmVsKHR5cGUpe1xuICAgIGNvbnN0IGRhdGEgPSB7IHNoaXBtZW50OiB7IHR5cGUsIG9yZGVyX2lkOiB0aGlzLnByb3BzLmN1cnJlbnRPcmRlci5pZCB9fTtcbiAgICBjcmVhdGVTaGlwbWVudChkYXRhKVxuICAgICAgLnRoZW4ocmVzID0+IHRoaXMucmVmcmVzaEN1cnJlbnRPcmRlcigpKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfVxuXG4gIHJlbmRlclByaW50TGFiZWxzKCl7XG4gICAgY29uc3QgeyBjdXJyZW50VXNlciwgY3VycmVudE9yZGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHJvbGUgPSBjdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWU7XG4gICAgY29uc3Qgc2hpcHBpbmdUeXBlID0gZ2V0U2hpcHBpbmdUeXBlKHJvbGUsIGN1cnJlbnRPcmRlci50eXBlKTtcbiAgICBjb25zdCBwcmludFByb21wdCA9IGdldFByaW50QnV0dG9uUHJvbXB0KHNoaXBwaW5nVHlwZSwgY3VycmVudE9yZGVyKTtcblxuXG4gICAgaWYgKHByaW50UHJvbXB0LnNwbGl0KCcgJylbMF0gPT09IFwiUHJpbnRcIil7XG4gICAgICBjb25zdCB1cmwgPSBjdXJyZW50T3JkZXJbdG9TbmFrZUNhc2VGcm9tQ2FtZWxDYXNlKGxvd2VyQ2FzZUZpcnN0TGV0dGVyKHNoaXBwaW5nVHlwZSkpXS5zaGlwcGluZ19sYWJlbDtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0ncGluay1idXR0b24nIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5wcmludCgpfT5cbiAgICAgICAgICAgIHtwcmludFByb21wdH1cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDxPcmRlckNvbXBsZXRlIHNoaXBwaW5nVHlwZT17c2hpcHBpbmdUeXBlfS8+XG4gICAgICAgICAgey8qIDxPcmRlckNvbXBsZXRlIG9yZGVyPXtjdXJyZW50T3JkZXJ9IHNoaXBwaW5nVHlwZT17c2hpcHBpbmdUeXBlfSAvPiAqL31cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmIChwcmludFByb21wdC5zcGxpdCgnICcpWzBdID09PSAnQ3JlYXRlJyl7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0ncGluay1idXR0b24nIG9uQ2xpY2s9eygpID0+IHRoaXMubWFrZVNoaXBwaW5nTGFiZWwoc2hpcHBpbmdUeXBlKX0+XG4gICAgICAgICAge3ByaW50UHJvbXB0fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRWRpdE9yZGVyKHJvbGUsIG9yZGVyRWRpdFBhdGgpe1xuICAgIGlmIChyb2xlID09PSAnYWRtaW4nKXtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPExpbmsgdG89e29yZGVyRWRpdFBhdGh9PlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT0nc2hvcnQtYnV0dG9uJyB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJFZGl0IE9yZGVyXCIgLz5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGVkaXRDb21wb25lbnRzKCl7XG4gICAgaWYgKHRoaXMucHJvcHMuY3VycmVudFVzZXIudXNlci5yb2xlc1swXS5uYW1lICE9ICdyZXRhaWxlcicpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0ncGluay1idXR0b24nIG9uQ2xpY2s9eygpID0+IHRoaXMuc2hvd0hpZGVOb3Rlc0Zvcm0oKX0+e3RoaXMuc3RhdGUuZGlzcGxheU5vdGVzRm9ybSA/ICdIaWRlJyA6ICdBZGQgTm90ZXMnfTwvYnV0dG9uPlxuICAgICAgICAgIHsgdGhpcy5ub3Rlc0Zvcm0oKSB9XG4gICAgICAgICAgeyB0aGlzLnJlbmRlckFycml2ZWRCdXR0b24oKSB9XG4gICAgICAgICAgeyB0aGlzLnJlbmRlckZ1bGZpbGxCdXR0b24oKSB9XG4gICAgICAgICAgeyB0aGlzLnJlbmRlclByaW50TGFiZWxzKCkgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXY+PC9kaXY+XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyT3JkZXJEZXRhaWxzKCl7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHsgdGhpcy5yZW5kZXJMaXN0KCkgfVxuICAgICAgICB7IHRoaXMub3JkZXJOb3RlcygncmVxdWVzdGVyX25vdGVzJykgfVxuICAgICAgICB7IHRoaXMub3JkZXJOb3RlcygncHJvdmlkZXJfbm90ZXMnKSB9XG4gICAgICAgIHsgdGhpcy5lZGl0Q29tcG9uZW50cygpIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBzaG93SGlkZURlYXRpbHNPckN1c3RvbWVyTWVhc3VyZW1lbnRzQnV0dG9uKGJvb2xlYW4pe1xuICAgIGNvbnN0IHZhbHVlID0gIWJvb2xlYW47XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2hvd01lYXN1cmVtZW50czogdmFsdWV9KTtcbiAgfVxuXG4gIHJlbmRlckRldGFpbHNPck1lYXN1cmVtZW50c2J1dHRvbihyb2xlLCBzdGF0ZSl7XG4gICAgaWYgKHJvbGUgIT0gJ3JldGFpbGVyJyl7XG4gICAgICBjb25zdCB7c2hvd01lYXN1cmVtZW50c30gPSB0aGlzLnN0YXRlO1xuICAgICAgY29uc3QgdmFsdWUgPSBzaG93TWVhc3VyZW1lbnRzID8gJ1NlZSBPcmRlciBEZXRhaWxzJyA6ICdTZWUgTWVhc3VyZW1lbnRzJztcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9J3N1Ym1pdCdcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgY2xhc3NOYW1lPSdzaG9ydC1idXR0b24nXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zaG93SGlkZURlYXRpbHNPckN1c3RvbWVyTWVhc3VyZW1lbnRzQnV0dG9uKHNob3dNZWFzdXJlbWVudHMpfS8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8ZGl2PjwvZGl2PlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpe1xuICAgIGNvbnN0IHsgY3VycmVudFN0b3JlLCBjdXJyZW50T3JkZXJ9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGN1c3RvbWVyIH0gPSBjdXJyZW50T3JkZXI7XG4gICAgY29uc3Qgb3JkZXJFZGl0UGF0aCA9IGAvb3JkZXJzLyR7Y3VycmVudE9yZGVyLmlkfS9lZGl0YDtcbiAgICBjb25zdCBoZWFkZXJUZXh0PWBPcmRlcnMgLyAke2N1cnJlbnRTdG9yZS5uYW1lfSAvICMke2N1cnJlbnRPcmRlci5pZH1gO1xuXG4gICAgaWYgKCFpc0VtcHR5KGN1cnJlbnRPcmRlcikpe1xuICAgICAgY29uc3QgY3VzdG9tZXJSb3V0ZSA9IGAvY3VzdG9tZXJzLyR7Y3VzdG9tZXIuaWR9L2VkaXRgO1xuICAgICAgY29uc3QgbWFpbkNvbnRlbnQgPSAhdGhpcy5zdGF0ZS5zaG93TWVhc3VyZW1lbnRzID8gdGhpcy5yZW5kZXJPcmRlckRldGFpbHMoKSA6IDxNZWFzdXJlbWVudHMgY3VzdG9tZXI9e2N1c3RvbWVyfS8+O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8U2VjdGlvbkhlYWRlciB0ZXh0PXtoZWFkZXJUZXh0fSBsaW5rVG89e2N1c3RvbWVyUm91dGV9IGxpbmtUZXh0PXsgY3VzdG9tZXIuZmlyc3RfbmFtZSArICcgJyArIGN1c3RvbWVyLmxhc3RfbmFtZX0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nb3JkZXItc2hvdyc+XG4gICAgICAgICAgIHsgdGhpcy5yZW5kZXJFZGl0T3JkZXIodGhpcy5wcm9wcy5jdXJyZW50VXNlci51c2VyLnJvbGVzWzBdLm5hbWUsIG9yZGVyRWRpdFBhdGgpIH1cbiAgICAgICAgICAgeyB0aGlzLnJlbmRlckRldGFpbHNPck1lYXN1cmVtZW50c2J1dHRvbih0aGlzLnByb3BzLmN1cnJlbnRVc2VyLnVzZXIucm9sZXNbMF0ubmFtZSwgdGhpcy5zdGF0ZSkgfVxuXG4gICAgICAgICAgICB7IG1haW5Db250ZW50IH1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxTZWN0aW9uSGVhZGVyIHRleHQ9e2hlYWRlclRleHR9IC8+XG4gICAgICAgICAgPGRpdj5Mb2FkaW5nLi48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RvcmUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50VXNlcjogc3RvcmUuY3VycmVudFVzZXIsXG4gICAgY3VycmVudFN0b3JlOiBzdG9yZS5jdXJyZW50U3RvcmUsXG4gICAgb3Blbk9yZGVyczogc3RvcmUuc3RvcmVPcmRlcnMsXG4gICAgY3VycmVudE9yZGVyOiBzdG9yZS5jdXJyZW50T3JkZXJcbiAgfVxufVxuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+IHtcbiAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyh7Z2V0Q3VycmVudE9yZGVyLCB1cGRhdGVPcmRlcn0sIGRpc3BhdGNoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoT3JkZXJzU2hvdyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jbGllbnQvY29tcG9uZW50cy9vcmRlcnMvc2hvdy9PcmRlcnNTaG93LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})